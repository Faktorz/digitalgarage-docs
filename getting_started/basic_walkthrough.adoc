[[getting-started-basic-walkthrough]]
= Basic Walkthrough
:toc: macro
:toc-title:
:data-uri:
:prewrap!:
:description: This is the getting started experience for Developers, focusing on web console usage.
:keywords: getting started, developers, web console, templates

toc::[]

== Overview

This guide demonstrates how to get a simple project up and running on
{product-title}.

The following sections guide you through creating a project that contains a
sample Node.js application that will serve a welcome page and the current hit
count (stored in a database) using the {product-title}  web console. This
involves creating two xref:../architecture/core_concepts/pods_and_services.adoc#pods[pods]:

- one to host the Node.js application
- one to host the MongoDB database

The tutorial assumes you have:

- a free {product-title} account.
- a free https://github.com/[GitHub] account.
- https://help.github.com/articles/set-up-git/[Git] installed locally.

[[bw-setup]]
== Setup

In this section, you will _fork_ the {product-title} Node.js sample application
on GitHub and clone the repository to your local machine so that you can deploy
and edit the application.

. On GitHub, navigate to the
https://github.com/thedigitalgarage/nodejs-ex[*thedigitalgarage/nodejs-ex*] repository. In the
top-right corner of the page, click *Fork*:
+
image::gs-fork.png[Fork the project]

. Next, execute the following commands on your local machine to clone the sample
application and change to the new directory:
+
----
$ git clone https://github.com/<your_github_username>/nodejs-ex
$ cd nodejs-ex
----

That's it! Now, you have a fork of the original *thedigitalgarage/nodejs-ex* example
application Git repository and a copy on your local machine.

[[bw-creating-a-new-application]]
== Creating a New Application

In this section, you will deploy your first application to {product-title} using
the web console.

. Navigate to the https://apps.thedigitalgarage.io:8443/console/[welcome
page] of the {product-title} web console. If you have not created a project, you will
see a welcome message from the Digital Garage with instructions to "open your account settings"
and create a new project. You can click the link provided in the message or
choose the drop down menu for your profile in the upper right corner of the screen. In the
dropdown menu choose `Account` to be directed to your account dashboard.
+
image::dg-no-projects.png[Welcome to Digital Garage]


. In your account dashboard, click the Create a Project button to configure the
settings for your project. In the New Subscription screen replace `my-project` with a
unique and lasting name for your project, such as `<your_github_username>-<application>`. This
namespace can be used for many projects in many stages over coming months. It is best to think
of the project as a long-lived workspace rather than a temporary project. You can leave
the description blank if you like. With the slider, choose the resources you would like
to assign to this workspace/project.
+
image::dg-account-dashboard.png[Account Dashboard]
+
[NOTE]
====
You will be able to change the resources assigned to this workspace at any time by
upgrading or downgrading your resource plan.
====
Click the GO/CODE button.
+
image::dg-new-project.png[New projects]
+
[NOTE]
====
If you have not entered your payment information for the account, you will see a pop-up
payments screen. On this screen you will have the option of entering a discount code for
a free subscription or discounts off of our standard plans.
====
. After you have created your project, go back to the web console page by closing the
account tab or window. You will now see the project you just  created in your project list.
+
image::dg-projects-page-pop.png[Select Project]
+
. Choose your project by clicking on the project card. This will take you to the Project Overview
screen for your new project. At this point your project will be empty unless you chose to create
your project with an instant application. We are going to add a Node.js application to the project
by first selecting `Add to Project` link on the top of the screen. This will take you
to the Add to Project screen with a catalog of Quickstart templates, Instant Applications, DataBase templates
Builders for different languages.

. Scroll to the *NodeJS* section and select the *qs-nodejs-mongodb*
Quickstart template:
+
image::dg-select-quickstart.png[Select Quickstart templates]

. On the next screen, replace the user name in the *Git Repository URL* parameter
with your GitHub user name. Use the default values provided for all other
parameters:
+
image::dg-change-git-url.png[Change Git URL]

. Finally, scroll to the bottom of the page and click *[ Create ]* to deploy your
application.
+
[NOTE]
====
You can follow along on the *Overview* page of the web console to see the new
resources being created, and watch the progress of the build and deployment.
While the MongoDB pod is being created, its status is shown as pending. The
MongoDB pod then starts up and displays its newly-assigned IP address.
====

[[bw-configuring-automated-builds]]
== Configuring Automated Builds

In this section, you will configure a GitHub webhook to automatically trigger a
rebuild of your application whenever you push code changes to your forked
repository. This requires adding the Github webhook URL from your application
into your Github repository. You obtain this webhook from these locations:

- At the bottom of *Next Steps* page shown after creating your app, you will see a
section titled *Making code changes*. Copy the payload URL from the bottom of
the page and follow the link to the GitHub project webhook settings page
provided:
+
image::dg-copy-webhook.png[Copy webhook]

- In the {product-title}  web console:
.. Navigate to the project containing your application.
.. Click the *[ Browse ]* tab, then click *[ Builds ]*, then click the name of the
build for your Node.js application.
.. From the *[ Configuration ]* tab, click image:copy.jpg[] next to *GitHub webhook
URL* to copy your GitHub webhook.

Next, add the webhook to the Github repository:

. In GitHub click *[ Add webhook ]* in the GitHub Webhook settings for your
project. Paste the payload URL into the *Payload URL* field, then click *[ Add
webhook ]* to finish adding the webhook to your project:
+
image::gs-add-webhook.png[Add webhook]

[NOTE]
====
Be sure to set the "Content type" to `application/json`. Then, click "Disable SSL verification"
to bypass verification of the SSL certificate for the webhook payload.
====

. GitHub now attempts to ping the {product-title} server to ensure that
communication is successful. If it is correctly configured, you will see a green
check mark next to your new webhook URL in GitHub. Hover your mouse over the
check mark to see the status of the last delivery:
+
image::gs-webhook-success.png[Successful delivery]

The next time you push a code change to your forked repository, your application
will automatically rebuild.

[[bw-viewing-your-running-application]]
== Viewing Your Running Application

In this section, you will view your running application using a web browser.

In the https://apps.thedigitalgarage.io:8443/console/[web console], view
the *Overview* page for your project to determine the web address for your
application. Click the web address displayed underneath the
*NODEJS-MONGODB-EXAMPLE* service to open your application in a new browser tab:

image::dg-running-nodejs-app.png[Running Node.js app]

[NOTE]
====
You can find all routes configured for your project at any time in the web
console:

. From the web console, navigate to the project containing your application.
. Click the *[ Browse ]* tab, then click *[ Routes ]*.
. Click the host name to open your application in a browser new tab.
====

[[bw-pushing-a-code-change]]
== Pushing a Code Change

In this section, you will learn how to push a local code change to the
application.

. On your local machine, use a text editor to open the sample application’s source
for the file *_nodejs-ex/views/index.html_*.

. Make a code change that will be visible from within your application. For
example, change the title on line 219:
+
image::gs-code-change.png[Make a code change]

. Commit the changes in Git, and push the change to your GitHub repository:
+
----
$ git add views/index.html
$ git commit -m “Updates heading on welcome page”
$ git push origin master
----

. If your webhook is correctly configured, your application will immediately
rebuild itself based on your changes. View your application using a web browser
to see your changes.

Now going forward, all you need to do is push code updates and {product-title}
handles the rest.

[[bw-scaling-the-app]]
== Scaling the App

In this section, you will add additional instances of your Node.js service so
that your application can handle additional traffic volume.

. In the web console, view the *Overview* page for your project. Click the *[ up
arrow ]* under the *NODEJS-MONGODB-EXAMPLE* service to add an additional replica
of your Node.js application:

+
image::dg-scaling-app.png[Scaling an app]
+

[[bw-next-up]]
== Next Up: Beyond the Basics

Next, we’ll go xref:../getting_started/beyond_the_basics.adoc#getting-started-beyond-the-basics[beyond the basics]
using the {product-title} CLI to compose this same application using individual
images.
