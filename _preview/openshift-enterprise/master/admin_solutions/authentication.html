<!DOCTYPE html>
<!--[if IE 8]> <html class="ie8"> <![endif]-->
<!--[if IE 9]> <html class="ie9"> <![endif]-->
<!--[if gt IE 9]><!-->
<html>
<!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>OpenShift Enterprise | Administrator Solutions | Authentication</title>
  <link href="/_stylesheets/subdomain.css" rel="stylesheet" type="text/css">
  <link href="/_stylesheets/docs.css" rel="stylesheet" type="text/css"/>
  <link href="/_stylesheets/font-awesome.min.css" rel="stylesheet" type="text/css"/>
  <!--
  <link href="https://raw.githubusercontent.com/thedigitalgarage/origin-web-console/master/extensions/thedigitalgarage/css/main.css" rel="stylesheet" type="text/css">
  -->
  <link href="/_images/favicon.png" rel="apple-touch-icon-precomposed" type="image/png">
  <link href="/_images/favicon.png" rel="shortcut icon" type="text/css">
  <!--[if IE]><link rel="shortcut icon" href="https://assets.openshift.net/content/subdomain/favicon.ico"><![endif]-->
  <!-- or, set /favicon.ico for IE10 win -->
  <meta content="the Digital Garage" name="application-name">
  <meta content="#000000" name="msapplication-TileColor">
  <meta content="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" name="msapplication-TileImage">
  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://assets.openshift.net/content/html5shiv.js" type="text/javascript"></script>
    <script src="https://assets.openshift.net/content/respond.js" type="text/javascript"></script>
    <link href="https://assets.openshift.net/content/vendor/respond-js/respond-proxy.html" id="respond-proxy" rel="respond-proxy">
    <link href="../../master/_images/respond.proxy.gif" id="respond-redirect" rel="respond-redirect">
    <script src="../../master/_javascripts/respond.proxy.js" type="text/javascript"></script>
  <![endif]-->
  <script src="https://assets.openshift.net/content/modernizr.js" type="text/javascript"></script>
  <script src="https://assets.openshift.net/content/subdomain.js" type="text/javascript"></script>
  <script src="../../master/_javascripts/bootstrap-offcanvas.js" type="text/javascript"></script>
  <script type="text/javascript" src="https://assets.openshift.net/app/assets/site/tracking.js"></script>
</head>
<body>
  <div class="navbar navbar-default navbar-openshift" role="navigation">
  <div class="navbar-header">
    <a class="navbar-brand" href="/"></a>
  </div>
  <div class="navbar-collapse collapse">
  </div>
</div>
  <div class="container">
    <p class="toggle-nav visible-xs pull-left">
      <button class="btn btn-default btn-sm" type="button" data-toggle="offcanvas">Toggle nav</button>
    </p>
    <ol class="breadcrumb">
      <li class="sitename">
        <a href="../../index.html">Documentation</a>
      </li>
      <li class="hidden-xs active">
        <a href="../welcome/index.html">OpenShift Enterprise Branch Build</a>
      </li>
      <li class="hidden-xs active">
        <a href="../admin_solutions/index.html">Administrator Solutions</a>
      </li>
      
      <li class="hidden-xs active">
        Authentication
      </li>
    </ol>
    <div class="row row-offcanvas row-offcanvas-left">
      <div class="col-xs-8 col-sm-3 col-md-3 sidebar sidebar-offcanvas">
        <div class="row-fluid">
          
<script>
  (function() {
    var cx = '013769182564158614814:e-dp46b51vk';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search defaultToRefinement="Enterprise Branch Build"></gcse:search>

        </div>
        <ul class="nav nav-sidebar">
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup0">
        <span id="tgSpan0" class="fa fa-angle-right"></span>About
      </a>
      <ul id="topicGroup0" class="collapse  list-unstyled">
            <li><a class="" href="../welcome/index.html">Welcome</a></li>
            <li><a class="" href="../welcome/revhistory_all.html">All Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup1">
        <span id="tgSpan1" class="fa fa-angle-right"></span>Release Notes
      </a>
      <ul id="topicGroup1" class="collapse  list-unstyled">
            <li><a class="" href="../release_notes/index.html">Overview</a></li>
            <li><a class="" href="../release_notes/ose_3_2_release_notes.html">OpenShift Enterprise 3.2 Release Notes</a></li>
            <li><a class="" href="../release_notes/xpaas_release_notes.html">xPaaS Release Notes</a></li>
            <li><a class="" href="../release_notes/v2_vs_v3.html">Comparing OpenShift Enterprise 2 and OpenShift Enterprise 3</a></li>
            <li><a class="" href="../release_notes/revhistory_release_notes.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup2">
        <span id="tgSpan2" class="fa fa-angle-right"></span>Getting Started
      </a>
      <ul id="topicGroup2" class="collapse  list-unstyled">
            <li><a class="" href="../getting_started/index.html">Overview</a></li>
            <li><a class="" href="../getting_started/developers_console.html">Web Console Walkthrough</a></li>
            <li><a class="" href="../getting_started/developers_cli.html">Command-Line Walkthrough</a></li>
            <li><a class="" href="../getting_started/administrators.html">Setting Up a Cluster</a></li>
            <li><a class="" href="../getting_started/revhistory_getting_started.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup3">
        <span id="tgSpan3" class="fa fa-angle-right"></span>Architecture
      </a>
      <ul id="topicGroup3" class="collapse  list-unstyled">
            <li><a class="" href="../architecture/index.html">Overview</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-1">
                <span id="sgSpan-3-1" class="fa fa-caret-right"></span>&nbsp;Infrastructure Components
              </a>
              <ul id="topicSubGroup-3-1" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../architecture/infrastructure_components/kubernetes_infrastructure.html">Kubernetes Infrastructure</a></li>

                  <li><a class="" href="../architecture/infrastructure_components/image_registry.html">Image Registry</a></li>

                  <li><a class="" href="../architecture/infrastructure_components/web_console.html">Web Console</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-2">
                <span id="sgSpan-3-2" class="fa fa-caret-right"></span>&nbsp;Core Concepts
              </a>
              <ul id="topicSubGroup-3-2" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../architecture/core_concepts/index.html">Overview</a></li>

                  <li><a class="" href="../architecture/core_concepts/containers_and_images.html">Containers and Images</a></li>

                  <li><a class="" href="../architecture/core_concepts/pods_and_services.html">Pods and Services</a></li>

                  <li><a class="" href="../architecture/core_concepts/projects_and_users.html">Projects and Users</a></li>

                  <li><a class="" href="../architecture/core_concepts/builds_and_image_streams.html">Builds and Image Streams</a></li>

                  <li><a class="" href="../architecture/core_concepts/deployments.html">Deployments</a></li>

                  <li><a class="" href="../architecture/core_concepts/routes.html">Routes</a></li>

                  <li><a class="" href="../architecture/core_concepts/templates.html">Templates</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-3">
                <span id="sgSpan-3-3" class="fa fa-caret-right"></span>&nbsp;Additional Concepts
              </a>
              <ul id="topicSubGroup-3-3" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../architecture/additional_concepts/networking.html">Networking</a></li>

                  <li><a class="" href="../architecture/additional_concepts/sdn.html">OpenShift SDN</a></li>

                  <li><a class="" href="../architecture/additional_concepts/authentication.html">Authentication</a></li>

                  <li><a class="" href="../architecture/additional_concepts/authorization.html">Authorization</a></li>

                  <li><a class="" href="../architecture/additional_concepts/storage.html">Persistent Storage</a></li>

                  <li><a class="" href="../architecture/additional_concepts/remote_commands.html">Remote Commands</a></li>

                  <li><a class="" href="../architecture/additional_concepts/port_forwarding.html">Port Forwarding</a></li>

                  <li><a class="" href="../architecture/additional_concepts/throttling.html">Throttling</a></li>

                  <li><a class="" href="../architecture/additional_concepts/scm.html">Source Control Management</a></li>

                  <li><a class="" href="../architecture/additional_concepts/admission_controllers.html">Admission Controllers</a></li>

                  <li><a class="" href="../architecture/additional_concepts/other_api_objects.html">Other API Objects</a></li>
              </ul>
            </li>
            <li><a class="" href="../architecture/revhistory_architecture.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup4">
        <span id="tgSpan4" class="fa fa-angle-right"></span>Installation and Configuration
      </a>
      <ul id="topicGroup4" class="collapse  list-unstyled">
            <li><a class="" href="../install_config/index.html">Overview</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-4-1">
                <span id="sgSpan-4-1" class="fa fa-caret-right"></span>&nbsp;Installing
              </a>
              <ul id="topicSubGroup-4-1" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../install_config/install/index.html">Overview</a></li>

                  <li><a class="" href="../install_config/install/prerequisites.html">Prerequisites</a></li>

                  <li><a class="" href="../install_config/install/rpm_vs_containerized.html">RPM vs Containerized</a></li>

                  <li><a class="" href="../install_config/install/quick_install.html">Quick Installation</a></li>

                  <li><a class="" href="../install_config/install/advanced_install.html">Advanced Installation</a></li>

                  <li><a class="" href="../install_config/install/disconnected_install.html">Disconnected Installation</a></li>

                  <li><a class="" href="../install_config/install/docker_registry.html">Configure or Deploy a Docker Registry</a></li>

                  <li><a class="" href="../install_config/install/deploy_router.html">Configure or Deploy a Router</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-4-2">
                <span id="sgSpan-4-2" class="fa fa-caret-right"></span>&nbsp;Upgrading
              </a>
              <ul id="topicSubGroup-4-2" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../install_config/upgrading/index.html">Overview</a></li>

                  <li><a class="" href="../install_config/upgrading/automated_upgrades.html">Automated Upgrades</a></li>

                  <li><a class="" href="../install_config/upgrading/manual_upgrades.html">Manual Upgrades</a></li>

                  <li><a class="" href="../install_config/upgrading/blue_green_deployments.html">Blue-Green Deployments</a></li>
              </ul>
            </li>
            <li><a class="" href="../install_config/downgrade.html">Downgrading</a></li>
            <li><a class="" href="../install_config/master_node_configuration.html">Master and Node Configuration</a></li>
            <li><a class="" href="../install_config/adding_hosts_to_existing_cluster.html">Adding Hosts to an Existing Cluster</a></li>
            <li><a class="" href="../install_config/imagestreams_templates.html">Loading the Default Image Streams and Templates</a></li>
            <li><a class="" href="../install_config/certificate_customization.html">Configuring Custom Certificates</a></li>
            <li><a class="" href="../install_config/configuring_authentication.html">Configuring Authentication and User Agent</a></li>
            <li><a class="" href="../install_config/syncing_groups_with_ldap.html">Syncing Groups With LDAP</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-4-10">
                <span id="sgSpan-4-10" class="fa fa-caret-right"></span>&nbsp;Advanced LDAP Configuration
              </a>
              <ul id="topicSubGroup-4-10" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../install_config/advanced_ldap_configuration/index.html">Overview</a></li>

                  <li><a class="" href="../install_config/advanced_ldap_configuration/sssd_for_ldap_failover.html">Setting up SSSD for LDAP Failover</a></li>

                  <li><a class="" href="../install_config/advanced_ldap_configuration/configuring_form_based_authentication.html">Configuring Form-Based Authentication</a></li>

                  <li><a class="" href="../install_config/advanced_ldap_configuration/configuring_extended_ldap_attributes.html">Configuring Extended LDAP Attributes</a></li>
              </ul>
            </li>
            <li><a class="" href="../install_config/configuring_sdn.html">Configuring the SDN</a></li>
            <li><a class="" href="../install_config/configuring_aws.html">Configuring for AWS</a></li>
            <li><a class="" href="../install_config/configuring_openstack.html">Configuring for OpenStack</a></li>
            <li><a class="" href="../install_config/configuring_gce.html">Configuring for GCE</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-4-15">
                <span id="sgSpan-4-15" class="fa fa-caret-right"></span>&nbsp;Configuring Persistent Storage
              </a>
              <ul id="topicSubGroup-4-15" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../install_config/persistent_storage/index.html">Overview</a></li>

                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_nfs.html">Using NFS</a></li>

                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_glusterfs.html">Using GlusterFS</a></li>

                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_cinder.html">Using OpenStack Cinder</a></li>

                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_ceph_rbd.html">Using Ceph RBD</a></li>

                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_aws.html">Using AWS Elastic Block Store</a></li>

                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_gce.html">Using GCE Persistent Disk</a></li>

                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_iscsi.html">Using iSCSI</a></li>

                  <li><a class="" href="../install_config/persistent_storage/persistent_storage_fibre_channel.html">Using Fibre Channel</a></li>

                  <li><a class="" href="../install_config/persistent_storage/dynamically_provisioning_pvs.html">Dynamic Provisioning</a></li>

                  <li><a class="" href="../install_config/persistent_storage/pod_security_context.html">Volume Security</a></li>

                  <li><a class="" href="../install_config/persistent_storage/selector_label_binding.html">Selector-Label Volume Binding</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-4-16">
                <span id="sgSpan-4-16" class="fa fa-caret-right"></span>&nbsp;Persistent Storage Examples
              </a>
              <ul id="topicSubGroup-4-16" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../install_config/storage_examples/index.html">Overview</a></li>

                  <li><a class="" href="../install_config/storage_examples/shared_storage.html">Sharing an NFS PV Across Two Pods</a></li>

                  <li><a class="" href="../install_config/storage_examples/ceph_example.html">Complete Example Using Ceph RBD</a></li>

                  <li><a class="" href="../install_config/storage_examples/gluster_example.html">Complete Example Using GlusterFS</a></li>

                  <li><a class="" href="../install_config/storage_examples/privileged_pod_storage.html">Mounting Volumes To Privileged Pods</a></li>

                  <li><a class="" href="../install_config/storage_examples/gluster_backed_registry.html">Backing Docker Registry with GlusterFS Storage</a></li>

                  <li><a class="" href="../install_config/storage_examples/binding_pv_by_label.html">Binding Persistent Volumes by Label</a></li>
              </ul>
            </li>
            <li><a class="" href="../install_config/http_proxies.html">Working with HTTP Proxies</a></li>
            <li><a class="" href="../install_config/build_defaults_overrides.html">Configuring Global Build Defaults and Overrides</a></li>
            <li><a class="" href="../install_config/configuring_pipeline_execution.html">Configuring Build Pipeline Execution</a></li>
            <li><a class="" href="../install_config/configuring_routing.html">Configuring Routing</a></li>
            <li><a class="" href="../install_config/routing_from_edge_lb.html">Routing from Edge Load Balancers</a></li>
            <li><a class="" href="../install_config/aggregate_logging.html">Aggregating Container Logs</a></li>
            <li><a class="" href="../install_config/cluster_metrics.html">Enabling Cluster Metrics</a></li>
            <li><a class="" href="../install_config/web_console_customization.html">Customizing the Web Console</a></li>
            <li><a class="" href="../install_config/revhistory_install_config.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup5">
        <span id="tgSpan5" class="fa fa-angle-down"></span>Administrator Solutions
      </a>
      <ul id="topicGroup5" class="collapse in list-unstyled">
            <li><a class="" href="../admin_solutions/index.html">Overview</a></li>
            <li><a class="" href="../admin_solutions/master_node_config.html">Master and Node Configuration</a></li>
            <li><a class="" href="../admin_solutions/user_role_mgmt.html">User and Role Management</a></li>
            <li><a class=" active" href="../admin_solutions/authentication.html">Authentication</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup6">
        <span id="tgSpan6" class="fa fa-angle-right"></span>Cluster Administration
      </a>
      <ul id="topicGroup6" class="collapse  list-unstyled">
            <li><a class="" href="../admin_guide/index.html">Overview</a></li>
            <li><a class="" href="../admin_guide/manage_nodes.html">Managing Nodes</a></li>
            <li><a class="" href="../admin_guide/manage_users.html">Managing Users</a></li>
            <li><a class="" href="../admin_guide/managing_projects.html">Managing Projects</a></li>
            <li><a class="" href="../admin_guide/service_accounts.html">Configuring Service Accounts</a></li>
            <li><a class="" href="../admin_guide/manage_authorization_policy.html">Managing Authorization Policies</a></li>
            <li><a class="" href="../admin_guide/image_policy.html">Image Policy</a></li>
            <li><a class="" href="../admin_guide/scoped_tokens.html">Scoped Tokens</a></li>
            <li><a class="" href="../admin_guide/monitoring_images.html">Monitoring Images</a></li>
            <li><a class="" href="../admin_guide/manage_scc.html">Managing Security Context Constraints</a></li>
            <li><a class="" href="../admin_guide/quota.html">Setting Quotas</a></li>
            <li><a class="" href="../admin_guide/multiproject_quota.html">Setting Multi-Project Quotas</a></li>
            <li><a class="" href="../admin_guide/limits.html">Setting Limit Ranges</a></li>
            <li><a class="" href="../admin_guide/pruning_resources.html">Pruning Objects</a></li>
            <li><a class="" href="../admin_guide/garbage_collection.html">Garbage Collection</a></li>
            <li><a class="" href="../admin_guide/scheduler.html">Scheduler</a></li>
            <li><a class="" href="../admin_guide/allocating_node_resources.html">Allocating Node Resources</a></li>
            <li><a class="" href="../admin_guide/overcommit.html">Overcommitting</a></li>
            <li><a class="" href="../admin_guide/limit_runonce_pod_duration.html">Limit Run-once Pod Duration</a></li>
            <li><a class="" href="../admin_guide/limit_pod_access_egress.html">Limit Pod Access with Egress Firewall</a></li>
            <li><a class="" href="../admin_guide/router.html">Monitoring Routers</a></li>
            <li><a class="" href="../admin_guide/high_availability.html">High Availability</a></li>
            <li><a class="" href="../admin_guide/pod_network.html">Managing Pod Networks</a></li>
            <li><a class="" href="../admin_guide/iptables.html">IPtables</a></li>
            <li><a class="" href="../admin_guide/securing_builds.html">Securing Builds by Strategy</a></li>
            <li><a class="" href="../admin_guide/building_dependency_trees.html">Building Dependency Trees</a></li>
            <li><a class="" href="../admin_guide/backup_restore.html">Backup and Restore</a></li>
            <li><a class="" href="../admin_guide/sdn_troubleshooting.html">Troubleshooting Networking</a></li>
            <li><a class="" href="../admin_guide/revhistory_admin_guide.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup7">
        <span id="tgSpan7" class="fa fa-angle-right"></span>CLI Reference
      </a>
      <ul id="topicGroup7" class="collapse  list-unstyled">
            <li><a class="" href="../cli_reference/index.html">Overview</a></li>
            <li><a class="" href="../cli_reference/get_started_cli.html">Get Started with the CLI</a></li>
            <li><a class="" href="../cli_reference/manage_cli_profiles.html">Managing CLI Profiles</a></li>
            <li><a class="" href="../cli_reference/basic_cli_operations.html">Developer CLI Operations</a></li>
            <li><a class="" href="../cli_reference/admin_cli_operations.html">Administrator CLI Operations</a></li>
            <li><a class="" href="../cli_reference/revhistory_cli_reference.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup8">
        <span id="tgSpan8" class="fa fa-angle-right"></span>Developer Guide
      </a>
      <ul id="topicGroup8" class="collapse  list-unstyled">
            <li><a class="" href="../dev_guide/index.html">Overview</a></li>
            <li><a class="" href="../dev_guide/application_lifecycle.html">Application Life Cycle Examples</a></li>
            <li><a class="" href="../dev_guide/authentication.html">Authentication</a></li>
            <li><a class="" href="../dev_guide/projects.html">Projects</a></li>
            <li><a class="" href="../dev_guide/new_app.html">Creating New Applications</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-8-5">
                <span id="sgSpan-8-5" class="fa fa-caret-right"></span>&nbsp;Migrating Applications
              </a>
              <ul id="topicSubGroup-8-5" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../dev_guide/migrating_applications/index.html">Overview</a></li>

                  <li><a class="" href="../dev_guide/migrating_applications/database_applications.html">Database Applications</a></li>

                  <li><a class="" href="../dev_guide/migrating_applications/web_framework_applications.html">Web Framework Applications</a></li>

                  <li><a class="" href="../dev_guide/migrating_applications/quickstart_examples.html">QuickStart Examples</a></li>

                  <li><a class="" href="../dev_guide/migrating_applications/continuous_integration_and_deployment.html">Continuous Integration and Deployment</a></li>

                  <li><a class="" href="../dev_guide/migrating_applications/web_hooks_action_hooks.html">Webhooks and Action Hooks</a></li>

                  <li><a class="" href="../dev_guide/migrating_applications/S2I_tool.html">S2I Tool</a></li>

                  <li><a class="" href="../dev_guide/migrating_applications/support_guide.html">Support Guide</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-8-6">
                <span id="sgSpan-8-6" class="fa fa-caret-right"></span>&nbsp;Application Tutorials
              </a>
              <ul id="topicSubGroup-8-6" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../dev_guide/app_tutorials/index.html">Overview</a></li>

                  <li><a class="" href="../dev_guide/app_tutorials/quickstarts.html">Quickstart Templates</a></li>

                  <li><a class="" href="../dev_guide/app_tutorials/ruby_on_rails.html">Ruby on Rails</a></li>

                  <li><a class="" href="../dev_guide/app_tutorials/maven_tutorial.html">Setting Up a Nexus Mirror</a></li>
              </ul>
            </li>
            <li><a class="" href="../dev_guide/ssh_environment.html">Opening a Remote Shell to Containers</a></li>
            <li><a class="" href="../dev_guide/templates.html">Templates</a></li>
            <li><a class="" href="../dev_guide/service_accounts.html">Service Accounts</a></li>
            <li><a class="" href="../dev_guide/builds.html">Builds</a></li>
            <li><a class="" href="../dev_guide/managing_images.html">Managing Images</a></li>
            <li><a class="" href="../dev_guide/compute_resources.html">Quotas and Limit Ranges</a></li>
            <li><a class="" href="../dev_guide/deployments.html">Deployments</a></li>
            <li><a class="" href="../dev_guide/routes.html">Routes</a></li>
            <li><a class="" href="../dev_guide/integrating_external_services.html">Integrating External Services</a></li>
            <li><a class="" href="../dev_guide/secrets.html">Secrets</a></li>
            <li><a class="" href="../dev_guide/configmaps.html">ConfigMaps</a></li>
            <li><a class="" href="../dev_guide/pod_autoscaling.html">Pod Autoscaling</a></li>
            <li><a class="" href="../dev_guide/volumes.html">Managing Volumes</a></li>
            <li><a class="" href="../dev_guide/persistent_volumes.html">Using Persistent Volumes</a></li>
            <li><a class="" href="../dev_guide/executing_remote_commands.html">Executing Remote Commands</a></li>
            <li><a class="" href="../dev_guide/copy_files_to_container.html">Copying Files</a></li>
            <li><a class="" href="../dev_guide/port_forwarding.html">Port Forwarding</a></li>
            <li><a class="" href="../dev_guide/shared_memory.html">Shared Memory</a></li>
            <li><a class="" href="../dev_guide/application_health.html">Application Health</a></li>
            <li><a class="" href="../dev_guide/events.html">Events</a></li>
            <li><a class="" href="../dev_guide/downward_api.html">Downward API</a></li>
            <li><a class="" href="../dev_guide/environment_variables.html">Managing Environment Variables</a></li>
            <li><a class="" href="../dev_guide/jobs.html">Jobs</a></li>
            <li><a class="" href="../dev_guide/revhistory_dev_guide.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup9">
        <span id="tgSpan9" class="fa fa-angle-right"></span>Creating Images
      </a>
      <ul id="topicGroup9" class="collapse  list-unstyled">
            <li><a class="" href="../creating_images/index.html">Overview</a></li>
            <li><a class="" href="../creating_images/guidelines.html">Guidelines</a></li>
            <li><a class="" href="../creating_images/metadata.html">Image Metadata</a></li>
            <li><a class="" href="../creating_images/s2i.html">S2I Requirements</a></li>
            <li><a class="" href="../creating_images/s2i_testing.html">Testing S2I Images</a></li>
            <li><a class="" href="../creating_images/custom.html">Custom Builder</a></li>
            <li><a class="" href="../creating_images/revhistory_creating_images.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup10">
        <span id="tgSpan10" class="fa fa-angle-right"></span>Using Images
      </a>
      <ul id="topicGroup10" class="collapse  list-unstyled">
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-0">
                <span id="sgSpan-10-0" class="fa fa-caret-right"></span>&nbsp;Source-to-Image (S2I)
              </a>
              <ul id="topicSubGroup-10-0" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../using_images/s2i_images/index.html">Overview</a></li>

                  <li><a class="" href="../using_images/s2i_images/customizing_s2i_images.html">Customizing S2I images</a></li>

                  <li><a class="" href="../using_images/s2i_images/nodejs.html">Node.js</a></li>

                  <li><a class="" href="../using_images/s2i_images/ruby.html">Ruby</a></li>

                  <li><a class="" href="../using_images/s2i_images/perl.html">Perl</a></li>

                  <li><a class="" href="../using_images/s2i_images/php.html">PHP</a></li>

                  <li><a class="" href="../using_images/s2i_images/python.html">Python</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-1">
                <span id="sgSpan-10-1" class="fa fa-caret-right"></span>&nbsp;Database Images
              </a>
              <ul id="topicSubGroup-10-1" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../using_images/db_images/index.html">Overview</a></li>

                  <li><a class="" href="../using_images/db_images/mysql.html">MySQL</a></li>

                  <li><a class="" href="../using_images/db_images/postgresql.html">PostgreSQL</a></li>

                  <li><a class="" href="../using_images/db_images/mongodb.html">MongoDB</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-2">
                <span id="sgSpan-10-2" class="fa fa-caret-right"></span>&nbsp;Docker Images
              </a>
              <ul id="topicSubGroup-10-2" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../using_images/docker_images/index.html">Overview</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-3">
                <span id="sgSpan-10-3" class="fa fa-caret-right"></span>&nbsp;Other Images
              </a>
              <ul id="topicSubGroup-10-3" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../using_images/other_images/index.html">Overview</a></li>

                  <li><a class="" href="../using_images/other_images/jenkins.html">Jenkins</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-4">
                <span id="sgSpan-10-4" class="fa fa-caret-right"></span>&nbsp;xPaaS Middleware Images
              </a>
              <ul id="topicSubGroup-10-4" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../using_images/xpaas_images/index.html">Overview</a></li>
              </ul>
            </li>
            <li><a class="" href="../using_images/revhistory_using_images.html">Revision History</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup11">
        <span id="tgSpan11" class="fa fa-angle-right"></span>REST API Reference
      </a>
      <ul id="topicGroup11" class="collapse  list-unstyled">
            <li><a class="" href="../rest_api/index.html">Overview</a></li>
            <li><a class="" href="../rest_api/openshift_v1.html">OpenShift v1</a></li>
            <li><a class="" href="../rest_api/kubernetes_v1.html">Kubernetes v1</a></li>
            <li><a class="" href="../rest_api/revhistory_rest_api.html">Revision History</a></li>
      </ul>
    </li>
</ul>
      </div>
      <div class="col-xs-12 col-sm-9 col-md-9 main">
        <div class="page-header">
          <h2>Authentication</h2>
        </div>
        <div id="preamble">
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title"></div>
<ul class="sectlevel1">
<li><a href="#overview">Overview</a></li>
<li><a href="#basic-auth-remote">Basic Authentication (Remote)</a>
<ul class="sectlevel2">
<li><a href="#configuring-basic-auth-on-master">Configuring Authentication on the Master</a></li>
<li><a href="#basic-troubleshooting">Troubleshooting</a></li>
<li><a href="#view-users-basic-auth">Viewing Users</a></li>
</ul>
</li>
<li><a href="#request-header-auth">Request Header Authentication</a>
<ul class="sectlevel2">
<li><a href="#configuring-request-header-auth-on-master">Configuring Authentication on the Master</a></li>
<li><a href="#create-users-request-header-auth">Creating Users with Request Header Authentication</a></li>
<li><a href="#view-users-request-header-auth">Viewing Users</a></li>
</ul>
</li>
<li><a href="#keystone-auth">Keystone Authentication</a>
<ul class="sectlevel2">
<li><a href="#config-keystone-auth-on-master">Configuring Authentication on the Master</a></li>
<li><a href="#create-users-keystone-auth">Creating Users with Keystone Authentication</a></li>
<li><a href="#view-users-keystone-auth">Viewing Users</a></li>
</ul>
</li>
<li><a href="#ldap-auth">LDAP Authentication</a>
<ul class="sectlevel2">
<li><a href="#config-ldap-auth-on-master">Configuring Authentication on the Master</a></li>
<li><a href="#create-users-ldap-auth">Creating Users with LDAP Authentication</a></li>
<li><a href="#view-users-ldap-auth">Viewing Users</a></li>
</ul>
</li>
<li><a href="#github-auth">GitHub Authentication</a>
<ul class="sectlevel2">
<li><a href="#register-app-on-github">Registering the Application on GitHub</a></li>
<li><a href="#config-github-auth-on-master">Configuring Authentication on the Master</a></li>
<li><a href="#create-users-github-auth">Creating Users with GitHub Authentication</a></li>
<li><a href="#view-users-github-auth">Viewing Users</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="anchor" href="#overview"></a>Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>OpenShift Enterprise supports many different authentication methods, as defined in
<a href="../install_config/configuring_authentication.html#install-config-configuring-authentication">Configuring Authentication</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#basic-auth-remote">Basic Authentication (Remote)</a></p>
</li>
<li>
<p><a href="#request-header-auth">Request Header</a></p>
</li>
<li>
<p><a href="#keystone-auth">Keystone</a></p>
</li>
<li>
<p><a href="#ldap-auth">LDAP</a></p>
</li>
<li>
<p><a href="#github-auth">GitHub</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="basic-auth-remote"><a class="anchor" href="#basic-auth-remote"></a>Basic Authentication (Remote)</h2>
<div class="sectionbody">
<div id="BasicAuthPasswordIdentityProvider" class="paragraph">
<p>Basic Authentication is a generic backend integration mechanism that allows
users to log in to OpenShift Enterprise with credentials validated against a remote
identity provider.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Basic Authentication must use an HTTPS connection to the remote server in order
to prevent potential snooping of the user ID and password, and to prevent
man-in-the-middle attacks.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>With <code><strong>BasicAuthPasswordIdentityProvider</strong></code> configured, users send their username
and password to OpenShift Enterprise, which then validates those credentials against
a remote server by making a server-to-server request, passing the credentials as
a Basic Auth header. This requires users to send their credentials to
OpenShift Enterprise during login.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This only works for username/password login mechanisms, and OpenShift Enterprise must
be able to make network requests to the remote authentication server.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="configuring-basic-auth-on-master"><a class="anchor" href="#configuring-basic-auth-on-master"></a>Configuring Authentication on the Master</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If you have:</p>
<div class="ulist">
<ul>
<li>
<p>Already completed the installation of Openshift, then copy the
<strong><em>/etc/origin/master/master-config.yaml</em></strong> file into a new directory; for example:</p>
<div class="listingblock">
<div class="content">
<pre>$ mkdir basicauthconfig; cp master-config.yaml basicauthconfig</pre>
</div>
</div>
</li>
<li>
<p>Not yet installed OpenShift Enterprise, then start the OpenShift Enterprise API server,
specifying the hostname of the (future) OpenShift Enterprise master and a directory
to store the configuration file created by the start command:</p>
<div class="listingblock">
<div class="content">
<pre>$ openshift start master --public-master=&lt;apiserver&gt; --write-config=&lt;directory&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ openshift start master --public-master=https://myapiserver.com:8443 --write-config=basicauthconfig</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you are installing with Ansible, then you must add the
<code><strong>identityProvider</strong></code> configuration to the Ansible playbook.
If you use the following steps to modify your configuration manually after installing with Ansible, then you will lose any modifications whenever you re-run the install tool or upgrade.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Edit the new <strong><em>master-config.yaml</em></strong> file&#8217;s <code><strong>identityProviders</strong></code> stanza.</p>
</li>
<li>
<p>Copy
<a href="../install_config/configuring_authentication.html#basic-auth-example-config">the example <code><strong>BasicAuthPasswordIdentityProvider</strong></code> configuration</a> and paste it to replace the existing stanza.</p>
</li>
<li>
<p>Make the following modifications to the <code><strong>identityProviders</strong></code> stanza:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Set the provider <code><strong>name</strong></code> to something unique and relevant to your
deployment. This name is prefixed to the returned user ID to form an identity
name.</p>
</li>
<li>
<p>If required,
<a href="../install_config/configuring_authentication.html#mapping-identities-to-users">set <code><strong>mappingMethod</strong></code></a> to control how mappings are established between the
provider&#8217;s identities and user objects.</p>
</li>
<li>
<p>Specify the HTTPS <code><strong>url</strong></code> to use to connect to a server that accepts credentials in Basic authentication headers.</p>
</li>
<li>
<p>Optionally, set the <code><strong>ca</strong></code> to the certificate bundle to use in order to validate server certificates for the configured URL, or leave it empty to use the system-trusted roots.</p>
</li>
<li>
<p>Optionally, remove or set the <code><strong>certFile</strong></code> to the client certificate to present when making requests to the configured URL.</p>
</li>
<li>
<p>If <code><strong>certFile</strong></code> is specified, then you must set the <code><strong>keyFile</strong></code> to the key for the client certificate.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Save your changes and close the file.</p>
</li>
<li>
<p>Start the OpenShift Enterprise API server, specifying the configuration file you just
modified:</p>
<div class="listingblock">
<div class="content">
<pre>$ openshift start master --config=&lt;path/to/modified/config&gt;/master-config.yaml</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Once configured, any user logging in to the OpenShift Enterprise web console will be
prompted to log in using their Basic authentication credentials.</p>
</div>
</div>
<div class="sect2">
<h3 id="basic-troubleshooting"><a class="anchor" href="#basic-troubleshooting"></a>Troubleshooting</h3>
<div class="paragraph">
<p>The most common issue relates to network connectivity to the backend server. For
simple debugging, run <code>curl</code> commands on the master. To test for a successful
login, replace the <code>&lt;user&gt;</code> and <code>&lt;password&gt;</code> in the following example command
with valid credentials. To test an invalid login, replace them with false
credentials.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl --cacert /path/to/ca.crt --cert /path/to/client.crt --key /path/to/client.key -u &lt;user&gt;:&lt;password&gt; -v https://www.example.com/remote-idp</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Successful responses</strong></p>
</div>
<div class="paragraph">
<p>A <code>200</code> status with a <code>sub</code> (subject) key indicates success:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{"sub":"userid"}</pre>
</div>
</div>
<div class="paragraph">
<p>The subject must be unique to the authenticated user, and must not be able to
be modified.</p>
</div>
<div class="paragraph">
<p>A successful response may optionally provide additional data, such as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A display name using the <code>name</code> key:</p>
<div class="listingblock">
<div class="content">
<pre>{"sub":"userid", "name": "User Name", ...}</pre>
</div>
</div>
</li>
<li>
<p>An email address using the <code>email</code> key:</p>
<div class="listingblock">
<div class="content">
<pre>{"sub":"userid", "email":"user@example.com", ...}</pre>
</div>
</div>
</li>
<li>
<p>A preferred user name using the <code>preferred_username</code> key:</p>
<div class="listingblock">
<div class="content">
<pre>{"sub":"014fbff9a07c", "preferred_username":"bob", ...}</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>preferred_username</code> key is useful when
the unique, unchangeable subject is a database key or UID, and a more
human-readable name exists. This is used as a hint when provisioning the
OpenShift Enterprise user for the authenticated identity.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Failed responses</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>A <code>401</code> response indicates failed authentication.</p>
</li>
<li>
<p>A non-<code>200</code> status or the presence of a non-empty "error" key indicates an
error: <code>{"error":"Error message"}</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="view-users-basic-auth"><a class="anchor" href="#view-users-basic-auth"></a>Viewing Users</h3>
<div class="paragraph">
<p>Once one or more users have logged in, you can run <code>oc get users</code> to view a
list of users and verify that users were created successfully.</p>
</div>
<div class="paragraph">
<p>From here, you might want to learn how to
<a href="../admin_solutions/user_role_mgmt.html#control-user-roles">control user roles</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="request-header-auth"><a class="anchor" href="#request-header-auth"></a>Request Header Authentication</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Configuring Request Header authentication allows users to log in to
OpenShift Enterprise using request header values, such as <code>X-Remote-User</code>. It is
typically used in combination with an authenticating proxy, which authenticates
the user and then provides OpenShift Enterprise with the user&#8217;s identity via a
request header value. This is similar to how
<a href="https://access.redhat.com/documentation/en-US/OpenShift_Enterprise/2/html/Deployment_Guide/Configuring_OpenShift_Enterprise_Authentication.html">the remote user plug-in in OpenShift Enterprise 2</a>
allowed administrators to provide Kerberos, LDAP, and many other forms of
enterprise authentication. The benefit of this configuration is that user
credentials can be handled by the proxy and never seen by OpenShift.</p>
</div>
<div class="paragraph">
<p>The proxy must be able to make network requests to the OpenShift Enterprise server.
Unauthenticated login attempts are redirected to a configured proxy URL. The
proxy can authenticate browser clients regardless of how it is configured, but
it must (currently) use either Basic Auth or Kerberos in order to work with the
<code>oc</code> CLI tooling.</p>
</div>
<div class="paragraph">
<p>For users to authenticate using this identity provider, they must access
<em>https://&lt;master&gt;/oauth/authorize</em> via an authenticating proxy. You can configure
the OAuth server to redirect unauthenticated requests to the proxy.</p>
</div>
<div class="sect2">
<h3 id="configuring-request-header-auth-on-master"><a class="anchor" href="#configuring-request-header-auth-on-master"></a>Configuring Authentication on the Master</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If you have:</p>
<div class="ulist">
<ul>
<li>
<p>Already completed the installation of Openshift, then copy the
<strong><em>/etc/origin/master/master-config.yaml</em></strong> file into a new directory; for example:</p>
<div class="listingblock">
<div class="content">
<pre>$ mkdir reqheadauthconfig; cp master-config.yaml reqheadauthconfig</pre>
</div>
</div>
</li>
<li>
<p>Not yet installed OpenShift Enterprise, then start the OpenShift Enterprise API server,
specifying the hostname of the (future) OpenShift Enterprise master and a directory
to store the configuration file created by the start command:</p>
<div class="listingblock">
<div class="content">
<pre>$ openshift start master --public-master=&lt;apiserver&gt; --write-config=&lt;directory&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ openshift start master --public-master=https://myapiserver.com:8443 --write-config=reqheadauthconfig</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you are installing with Ansible, then you must add the
<code><strong>identityProvider</strong></code> configuration to the Ansible playbook.
If you use the following steps to modify your configuration manually after installing with Ansible, then you will lose any modifications whenever you re-run the install tool or upgrade.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Edit the new <strong><em>master-config.yaml</em></strong> file&#8217;s <code><strong>identityProviders</strong></code> stanza.</p>
</li>
<li>
<p>View
<a href="../install_config/configuring_authentication.html#reqhead-auth-example-config">the example <code><strong>RequestHeaderIdentityProvider</strong></code> configuration</a>
and use it as a guide to replace the existing stanza.</p>
</li>
<li>
<p>Modify the <code><strong>identityProviders</strong></code> stanza based on which headers you plan to
pass in.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Set the provider <code><strong>name</strong></code> to something unique and relevant to your
deployment. This name is prefixed to the returned user ID to form an identity
name.</p>
</li>
<li>
<p>If required,
<a href="../install_config/configuring_authentication.html#mapping-identities-to-users">set <code><strong>mappingMethod</strong></code></a>
to control how mappings are established between the provider&#8217;s identities and
user objects.</p>
</li>
<li>
<p>Set the <code><strong>challenge</strong></code> parameter to <strong>true</strong> to redirect unauthenticated
requests from clients expecting <code>WWW-Authenticate</code> challenges.</p>
</li>
<li>
<p>Set the <code><strong>provider.challengeURL</strong></code> parameter to the proxy URL to which to send
clients expecting <code>WWW-Authenticate</code> challenges, like the <code>oc</code> CLI client.
This parameter can include the
<a href="../install_config/configuring_authentication.html#RequestHeaderIDP-urlquerytokens"><code>${url}</code> and <code>${query}</code> tokens</a>
in the query portion of the URL.</p>
</li>
<li>
<p>Set the <code><strong>login</strong></code> parameter to <strong>true</strong> to redirect unauthenticated requests
from clients expecting login flows.</p>
</li>
<li>
<p>Set the <code><strong>provider.loginURL</strong></code> parameter to the proxy URL to which to send
clients expecting login flows, like web browser clients. This parameter can include the
<a href="../install_config/configuring_authentication.html#RequestHeaderIDP-urlquerytokens"><code>${url}</code> and <code>${query}</code> tokens</a>
in the query portion of the URL.</p>
</li>
<li>
<p>Set the <code><strong>clientCA</strong></code> parameter to the certificate bundle to use to check
incoming requests for a valid client certificate before the request&#8217;s headers
are checked for a user name.</p>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you expect unauthenticated requests to reach the OAuth server, a <code><strong>clientCA</strong></code>
parameter (and optionally, <code><strong>clientCommonNames</strong></code>) should be set for this
identity provider. Otherwise, any direct request to the OAuth server can
impersonate any identity from this provider, merely by setting a request header.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Optionally, set the <code><strong>clientCommonNames</strong></code> parameter to a list of Common Names
(<code>cn</code>). If set, a valid client certificate with a Common Name (<code>cn</code>) in the
specified list must be presented before the request headers are checked for user
names. If empty, then any Common Name is allowed. This must be used in
combination with <code><strong>clientCA</strong></code>.</p>
</li>
<li>
<p>Set the <code><strong>headers</strong></code> parameter to the header names to check, in order, for the
user identity. The first header containing a value is used as the identity. This
parameter is required and is case-insensitive.</p>
</li>
<li>
<p>Optionally, set the <code><strong>emailHeaders</strong></code> parameter to the header names to check,
in order, for an email address. The first header containing a value is used as
the email address. This parameter is case-insensitive.</p>
</li>
<li>
<p>Optionally, set the <code><strong>nameHeaders</strong></code> parameter to the header names to check,
in order, for a display name. The first header containing a value is used as the
display name. This parameter is case-insensitive.</p>
</li>
<li>
<p>Optionally, set the <code><strong>preferredUsernameHeaders</strong></code> parameter to the header
names to check, in order, for a preferred user name (if different than the
immutable identity determined from the headers specified in <code><strong>headers</strong></code>). The
first header containing a value is used as the preferred user name when
provisioning. This parameter is case-insensitive.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Save your changes and close the file.</p>
</li>
<li>
<p>Start the OpenShift Enterprise API server, specifying the configuration file you just modified:</p>
<div class="listingblock">
<div class="content">
<pre>$ openshift start master --config=&lt;path/to/modified/config&gt;/master-config.yaml</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Once configured, any user logging in to the OpenShift Enterprise web console will be
redirected to the authenticating proxy, which will authenticate the user.</p>
</div>
</div>
<div class="sect2">
<h3 id="create-users-request-header-auth"><a class="anchor" href="#create-users-request-header-auth"></a>Creating Users with Request Header Authentication</h3>
<div class="paragraph">
<p>You do not create users in OpenShift Enterprise when integrating with an external
authentication provider, such as the system that the proxy server is using as an
authentication server. That server is the system of record, meaning that users
are defined there, and any user with a valid user name for the configured
authentication server can log in.</p>
</div>
<div class="paragraph">
<p>To add a user to OpenShift Enterprise, the user must exist on the system the proxy is
using as an authentication server, and if required you must add the users to
that system.</p>
</div>
</div>
<div class="sect2">
<h3 id="view-users-request-header-auth"><a class="anchor" href="#view-users-request-header-auth"></a>Viewing Users</h3>
<div class="paragraph">
<p>Once one or more users have logged in, you can run <code>oc get users</code> to view a
list of users and verify that users were created successfully.</p>
</div>
<div class="paragraph">
<p>From here, you might want to examine
<a href="../install_config/advanced_ldap_configuration/index.html#advanced-ldap-configuration-index">advanced LDAP configuration</a>
for an example of Request Header authentication in use with Apache. You can also
learn how to
<a href="../admin_solutions/user_role_mgmt.html#control-user-roles">control user roles</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keystone-auth"><a class="anchor" href="#keystone-auth"></a>Keystone Authentication</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="http://docs.openstack.org/developer/keystone/">Keystone</a> is an OpenStack project
that provides identity, token, catalog, and policy services. You can integrate
your OpenShift Enterprise cluster with Keystone to enable shared authentication with
an OpenStack Keystone v3 server configured to store users in an internal
database. Once configured, this configuration allows users to log in to
OpenShift Enterprise with their Keystone credentials.</p>
</div>
<div class="sect2">
<h3 id="config-keystone-auth-on-master"><a class="anchor" href="#config-keystone-auth-on-master"></a>Configuring Authentication on the Master</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If you have:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Already completed the installation of Openshift, then copy the
<strong><em>/etc/origin/master/master-config.yaml</em></strong> file into a new directory; for example:</p>
<div class="listingblock">
<div class="content">
<pre>$ cd /etc/origin/master
$ mkdir keystoneconfig; cp master-config.yaml keystoneconfig</pre>
</div>
</div>
</li>
<li>
<p>Not yet installed OpenShift Enterprise, then start the OpenShift Enterprise API server,
specifying the hostname of the (future) OpenShift Enterprise master and a directory
to store the configuration file created by the start command:</p>
<div class="listingblock">
<div class="content">
<pre>$ openshift start master --public-master=&lt;apiserver&gt; --write-config=&lt;directory&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ openshift start master --public-master=https://myapiserver.com:8443 --write-config=keystoneconfig</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you are installing with Ansible, then you must add the
<code><strong>identityProvider</strong></code> configuration to the Ansible playbook.
If you use the following steps to modify your configuration manually after installing with Ansible, then you will lose any modifications whenever you re-run the install tool or upgrade.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Edit the new <strong><em>keystoneconfig/master-config.yaml</em></strong> file&#8217;s <code><strong>identityProviders</strong></code> stanza.</p>
</li>
<li>
<p>Copy
<a href="../install_config/configuring_authentication.html#KeystonePasswordIdentityProvider">the example <code><strong>KeystonePasswordIdentityProvider</strong></code> configuration</a>
and paste it to replace the existing stanza.</p>
</li>
<li>
<p>Make the following modifications to the <code><strong>identityProviders</strong></code> stanza:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Change the provider <code><strong>name</strong></code> ("my_keystone_provider") to match your Keystone server.
This name is prefixed to provider user names to form an identity name.</p>
</li>
<li>
<p>If required,
<a href="../install_config/configuring_authentication.html#mapping-identities-to-users">change <code><strong>mappingMethod</strong></code></a> to control how mappings are established between the
provider&#8217;s identities and user objects.</p>
</li>
<li>
<p>Change the <code><strong>domainName</strong></code> to the domain name of your OpenStack Keystone server. In Keystone, usernames are domain-specific. Only a single domain is supported.</p>
</li>
<li>
<p>Specify the <code><strong>url</strong></code> to use to connect to your OpenStack Keystone server.</p>
</li>
<li>
<p>Optionally, change the <code><strong>ca</strong></code> to the certificate bundle to use in order to validate server certificates for the configured URL.</p>
</li>
<li>
<p>Optionally, change the <code><strong>certFile</strong></code> to the client certificate to present when making requests to the configured URL.</p>
</li>
<li>
<p>If <code><strong>certFile</strong></code> is specified, then you must change the <code><strong>keyFile</strong></code> to the key for the client certificate.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Save your changes and close the file.</p>
</li>
<li>
<p>Start the OpenShift Enterprise API server, specifying the configuration file you just
modified:</p>
<div class="listingblock">
<div class="content">
<pre>$ openshift start master --config=&lt;path/to/modified/config&gt;/master-config.yaml</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Once configured, any user logging in to the OpenShift Enterprise web console will be
prompted to log in using their Keystone credentials.</p>
</div>
</div>
<div class="sect2">
<h3 id="create-users-keystone-auth"><a class="anchor" href="#create-users-keystone-auth"></a>Creating Users with Keystone Authentication</h3>
<div class="paragraph">
<p>You do not create users in OpenShift Enterprise when integrating with an external
authentication provider, such as, in this case, Keystone. Keystone is the system of record, meaning that users are defined in a Keystone database, and any user with a valid Keystone user name for the configured authentication server can log in.</p>
</div>
<div class="paragraph">
<p>To add a user to OpenShift Enterprise, the user must exist in the Keystone database, and if required you must create a new Keystone account for the user.</p>
</div>
</div>
<div class="sect2">
<h3 id="view-users-keystone-auth"><a class="anchor" href="#view-users-keystone-auth"></a>Viewing Users</h3>
<div class="paragraph">
<p>Once one or more users have logged in, you can run <code>oc get users</code> to view a
list of users and verify that users were created successfully:</p>
</div>
<div class="exampleblock">
<div class="title">Example 1. Output of <code>oc get users</code> command</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>$ oc get users
NAME         UID                                    FULL NAME   IDENTITIES
bobsmith     a0c1d95c-1cb5-11e6-a04a-002186a28631   Bob Smith   keystone:bobsmith <i class="conum" data-value="1"></i><b>(1)</b></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Identities in OpenShift Enterprise are comprised of the identity provider name prefixed to the Keystone username.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>From here, you might want to learn how to
<a href="../admin_solutions/user_role_mgmt.html#control-user-roles">control user roles</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ldap-auth"><a class="anchor" href="#ldap-auth"></a>LDAP Authentication</h2>
<div class="sectionbody">
<div class="paragraph">
<p>LDAP uses bind operations to authenticate applications, and you can integrate your OpenShift Enterprise cluster to use LDAPv3 authentication.
Configuring LDAP authentication allows users to log in to OpenShift Enterprise with their LDAP credentials.</p>
</div>
<div class="paragraph">
<p>During authentication, the LDAP directory is searched for an entry that matches
the provided user name. If a single unique match is found, a simple bind is
attempted using the distinguished name (DN) of the entry plus the provided
password.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The basic authentication configuration covered by this topic is not enough to
create a secure LDAP authentication solution for OpenShift Enterprise. It has a
single point of failure, meaning that if the single LDAP authentication server
became unavailable then all OpenShift Enterprise operations requiring authentication
would also be unavailable.</p>
</div>
<div class="paragraph">
<p>Additionally, this basic configuration has no access control of its own; all
LDAP users matching the configured filter are able to log into OpenShift Enterprise.</p>
</div>
<div class="paragraph">
<p>With the
<a href="../install_config/advanced_ldap_configuration/sssd_for_ldap_failover.html#setting-up-for-ldap-failover">SSSD failover setup</a>,
FreeIPA and Active Directory can also set rules to specifically restrict which
users can and cannot access OpenShift Enterprise.</p>
</div>
<div class="paragraph">
<p>The following three advanced topics begin where this basic LDAP authentication
topic ends, and describe the setup for a fault-tolerant authentication system:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="../install_config/advanced_ldap_configuration/sssd_for_ldap_failover.html#setting-up-for-ldap-failover">Setting up SSSD for LDAP Failover</a></p>
</li>
<li>
<p><a href="../install_config/advanced_ldap_configuration/configuring_form_based_authentication.html#configuring-form-based-authentication">Configuring Form-Based Authentication</a></p>
</li>
<li>
<p><a href="../install_config/advanced_ldap_configuration/configuring_extended_ldap_attributes.html#configuring-extended-ldap-attributes">Configuring Extended LDAP Attributes</a></p>
</li>
</ol>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="config-ldap-auth-on-master"><a class="anchor" href="#config-ldap-auth-on-master"></a>Configuring Authentication on the Master</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If you have:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Already completed the installation of Openshift, then copy the
<strong><em>/etc/origin/master/master-config.yaml</em></strong> file into a new directory; for example:</p>
<div class="listingblock">
<div class="content">
<pre>$ cd /etc/origin/master
$ mkdir ldapconfig; cp master-config.yaml ldapconfig</pre>
</div>
</div>
</li>
<li>
<p>Not yet installed OpenShift Enterprise, then start the OpenShift Enterprise API server,
specifying the hostname of the (future) OpenShift Enterprise master and a directory
to store the configuration file created by the start command:</p>
<div class="listingblock">
<div class="content">
<pre>$ openshift start master --public-master=&lt;apiserver&gt; --write-config=&lt;directory&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ openshift start master --public-master=https://myapiserver.com:8443 --write-config=ldapconfig</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you are installing with Ansible, then you must add the
<code><strong>identityProvider</strong></code> configuration to the Ansible playbook.
If you use the following steps to modify your configuration manually after installing with Ansible, then you will lose any modifications whenever you re-run the install tool or upgrade.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Edit the new <strong><em>master-config.yaml</em></strong> file&#8217;s <code><strong>identityProviders</strong></code> stanza.</p>
</li>
<li>
<p>Copy
<a href="../install_config/configuring_authentication.html#ldap-example-config">the example <code><strong>LDAPPasswordIdentityProvider</strong></code> configuration</a>
and paste it to replace the existing stanza.</p>
</li>
<li>
<p>Make the following modifications to the <code><strong>identityProviders</strong></code> stanza:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Change the provider <code><strong>name</strong></code> ("my_ldap_provider") to something unique and
relevant to your deployment. This name is prefixed to the returned user name to
form an identity name.</p>
</li>
<li>
<p>If required,
<a href="../install_config/configuring_authentication.html#mapping-identities-to-users">change <code><strong>mappingMethod</strong></code></a> to control how mappings are established between the
provider&#8217;s identities and user objects.</p>
</li>
<li>
<p>Change <code><strong>id</strong></code> to the attribute to use as the identity, which must be unique
and immutable within the identity provider. This option can accept multiple
attributes. If more than one is specified, they will be checked in order and the
first non-empty attribute will be used. At least one attribute is required. If
none of the listed attribute have a value, then authentication fails.</p>
</li>
<li>
<p>Change <code><strong>email</strong></code> to the attribute to use as the email address.  This option
can accept multiple attributes. If more than one is specified, they will be
checked in order and the first non-empty attribute will be used.</p>
</li>
<li>
<p>Change <code><strong>name</strong></code> to the attribute to use as the display name.  This option can
accept multiple attributes. If more than one is specified, they will be checked
in order and the first non-empty attribute will be used.</p>
</li>
<li>
<p>Optionally, change <code><strong>preferredUsername</strong></code> to the attribute to use as the
preferred OpenShift Enterprise username when provisioning a user for this identity.
If unspecified, the <code><strong>id</strong></code> attribute is used as the preferred username. This
option can accept multiple attributes. If more than one is specified, they will
be checked in order and the first non-empty attribute will be used.</p>
<div class="paragraph">
<p>The attribute you select as the <code><strong>preferredUsername</strong></code> should still be unique,
even within the identity provider.  The <code><strong>preferredUsername</strong></code> attribute is only
used when provisioning the user for the initial login. Afterward, the existing
OpenShift Enterprise user is looked up by their identity provider ID, in case the
<code><strong>preferredUsername</strong></code> attribute changes.</p>
</div>
<div class="paragraph">
<p>Using <code><strong>preferredUsername</strong></code> is helpful when the immutable <code><strong>id</strong></code> attribute is
not a human-recognizable value, and there is another attribute with a value that
is more recognizable to the user. For example, if the <code><strong>id</strong></code> is something like
"e43adf8cc243", you could set <code><strong>preferredUsername</strong></code> to <code>login</code>, which could have
potentially muteable values, such as "bobsmith".</p>
</div>
</li>
<li>
<p>Change the <code><strong>ca</strong></code> to the certificate bundle to use in order to validate
server certificates for the configured URL. If empty, system trusted roots are
used. This setting only applies if <strong>insecure: false</strong>. If the LDAP server
requires a different certificate chain, this attribute should contain the
filesystem path of that certificate or certificate bundle.</p>
</li>
<li>
<p>If required, modify the <code><strong>insecure</strong></code> parameter. The default is <strong>false</strong>, and this must be <strong>false</strong> when using <code>ldaps://</code> URLs. When <strong>false</strong>, <code>ldaps://</code> URLs connect using TLS, and <code>ldap://</code> URLs are upgraded to TLS. When <strong>true</strong>, no TLS connection is made to the server, however, setting this to <strong>true</strong> creates an invalid configuration for LDAP.</p>
</li>
<li>
<p>Define an RFC 2255 URL that
<a href="../install_config/configuring_authentication.html#ldap-url">specifies the LDAP host and search parameters</a> to use.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Save your changes and close the file.</p>
</li>
<li>
<p>Start the OpenShift Enterprise API server, specifying the configuration file you just
modified:</p>
<div class="listingblock">
<div class="content">
<pre>$ openshift start master --master-config=&lt;path/to/modified/config&gt;/master-config.yaml</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Once configured, any user logging in to the OpenShift Enterprise web console will be
prompted to log in using their LDAP credentials.</p>
</div>
</div>
<div class="sect2">
<h3 id="create-users-ldap-auth"><a class="anchor" href="#create-users-ldap-auth"></a>Creating Users with LDAP Authentication</h3>
<div class="paragraph">
<p>You do not create users in OpenShift Enterprise when integrating with an external
authentication provider, such as, in this case, LDAP. LDAP is the system of
record, meaning that users are defined in LDAP, and any user with a valid LDAP ID for the configured authentication server can log in.</p>
</div>
<div class="paragraph">
<p>To add a user to OpenShift Enterprise, the user must exist in the LDAP system, and if required you must create a new LDAP account for the user.</p>
</div>
</div>
<div class="sect2">
<h3 id="view-users-ldap-auth"><a class="anchor" href="#view-users-ldap-auth"></a>Viewing Users</h3>
<div class="paragraph">
<p>Once one or more users have logged in, you can run <code>oc get users</code> to view a
list of users and verify that users were created successfully:</p>
</div>
<div class="exampleblock">
<div class="title">Example 2. Output of <code>oc get users</code> command</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>$ oc get users
NAME       UID                                    FULL NAME   IDENTITIES
bobsmith   166a2367-33fc-11e6-bb22-4ccc6a0ad630   Bob Smith   ldap_provider:uid=bsmith,ou=users,dc=example,dc=com</pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Identities in OpenShift Enterprise are comprised of the identity provider name prefixed to the LDAP distinguished name (DN).</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>From here, you might want to learn how to
<a href="../admin_solutions/user_role_mgmt.html#control-user-roles">control user roles</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="github-auth"><a class="anchor" href="#github-auth"></a>GitHub Authentication</h2>
<div class="sectionbody">
<div class="paragraph">
<p>GitHub uses OAuth, and you can integrate your OpenShift Enterprise cluster to use
that OAuth authentication. OAuth basically facilitates a token exchange flow.</p>
</div>
<div class="paragraph">
<p>Configuring GitHub authentication allows users to log in to OpenShift Enterprise with
their GitHub credentials. To prevent anyone with any GitHub user ID from logging
in to your OpenShift Enterprise cluster, you can restrict access to only those in
specific GitHub organizations.</p>
</div>
<div class="sect2">
<h3 id="register-app-on-github"><a class="anchor" href="#register-app-on-github"></a>Registering the Application on GitHub</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>On GitHub, click <a href="https://github.com/settings/profile">Settings</a> &#8594;
<a href="https://github.com/settings/applications">OAuth applications</a> &#8594;
<a href="https://github.com/settings/developers">Developer applications</a> &#8594;
<a href="https://github.com/settings/applications/new">Register an application</a>
to navigate to the page for a
<a href="https://github.com/settings/applications/new">new OAuth application</a>.</p>
</li>
<li>
<p>Type an application name. For example: <code>My OpenShift Install</code></p>
</li>
<li>
<p>Type a homepage URL. For example: <code><a href="https://myapiserver.com:8443" class="bare">https://myapiserver.com:8443</a></code></p>
</li>
<li>
<p>Optionally, type an application description.</p>
</li>
<li>
<p>Type the authorization callback URL, where the end of the URL contains the
identity provider <strong>name</strong> (defined in the <code><strong>identityProviders</strong></code> stanza of the <a href="../install_config/master_node_configuration.html#install-config-master-node-configuration"><strong><em>master configuration file</em></strong></a>, which you configure in the next section of this topic):</p>
<div class="listingblock">
<div class="content">
<pre>&lt;apiserver&gt;/oauth2callback/&lt;identityProviderName&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>https://myapiserver.com:8443/oauth2callback/github/</pre>
</div>
</div>
</li>
<li>
<p>Click <strong>Register application</strong>. GitHub provides a Client ID and a Client Secret.
Keep this window open so you can copy these values and paste them into the
master configuration file.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="config-github-auth-on-master"><a class="anchor" href="#config-github-auth-on-master"></a>Configuring Authentication on the Master</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If you have:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Already completed the installation of Openshift, then copy the
<strong><em>/etc/origin/master/master-config.yaml</em></strong> file into a new directory; for example:</p>
<div class="listingblock">
<div class="content">
<pre>$ cd /etc/origin/master
$ mkdir githubconfig; cp master-config.yaml githubconfig</pre>
</div>
</div>
</li>
<li>
<p>Not yet installed OpenShift Enterprise, then start the OpenShift Enterprise API server,
specifying the hostname of the (future) OpenShift Enterprise master and a directory
to store the configuration file created by the start command:</p>
<div class="listingblock">
<div class="content">
<pre>$ openshift start master --public-master=&lt;apiserver&gt; --write-config=&lt;directory&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ openshift start master --public-master=https://myapiserver.com:8443 --write-config=githubconfig</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you are installing with Ansible, then you must add the
<code><strong>identityProvider</strong></code> configuration to the Ansible playbook.
If you use the following steps to modify your configuration manually after installing with Ansible, then you will lose any modifications whenever you re-run the install tool or upgrade.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Using <code>openshift start master</code> on its own would auto-detect host names, but
GitHub must be able to redirect to the exact host name that you specified when
registering the application. For this reason, you cannot auto-detect the ID
because it might redirect to the wrong address. Instead, you must specify the
hostname that web browsers use to interact with your OpenShift Enterprise cluster.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Edit the new <strong><em>master-config.yaml</em></strong> file&#8217;s <code><strong>identityProviders</strong></code> stanza.</p>
</li>
<li>
<p>Copy
<a href="../install_config/configuring_authentication.html#GitHub">the example <code><strong>GitHubIdentityProvider</strong></code> configuration</a>
and paste it to replace the existing stanza.</p>
</li>
<li>
<p>Make the following modifications to the <code><strong>identityProviders</strong></code> stanza:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Change the provider <code><strong>name</strong></code> to match the callback URL you configured on
GitHub.</p>
<div class="paragraph">
<p>For example, if you defined the callback URL as
<code><a href="https://myapiserver.com:8443/oauth2callback/github/" class="bare">https://myapiserver.com:8443/oauth2callback/github/</a></code> then the <code><strong>name</strong></code> must be
<code>github</code>.</p>
</div>
</li>
<li>
<p>Change <code><strong>clientID</strong></code> to the Client ID from GitHub that you
<a href="../admin_solutions/authentication.html#register-app-on-github">registered previously</a>.</p>
</li>
<li>
<p>Change <code><strong>clientSecret</strong></code> to the Client Secret from GitHub that you
<a href="../admin_solutions/authentication.html#register-app-on-github">registered previously</a>.</p>
</li>
<li>
<p>Change <code><strong>organizations</strong></code> to include a list of one or more GitHub
organizations to which a user must have membership in order to authenticate. If
specified, only GitHub users that are members of at least one of the listed
organizations will be allowed to log in. If this is not specified, then any
person with a valid GitHub account can log in.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Save your changes and close the file.</p>
</li>
<li>
<p>Start the OpenShift Enterprise API server, specifying the configuration file you just
modified:</p>
<div class="listingblock">
<div class="content">
<pre>$ openshift start master --config=&lt;path/to/modified/config&gt;/master-config.yaml</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Once configured, any user logging in to the OpenShift Enterprise web console will be
prompted to log in using their GitHub credentials. On their first login, the
user must click <strong>authorize application</strong> to permit GitHub to use their username,
password, and organization membership with OpenShift Enterprise. The user is then
redirected back to the web console.</p>
</div>
</div>
<div class="sect2">
<h3 id="create-users-github-auth"><a class="anchor" href="#create-users-github-auth"></a>Creating Users with GitHub Authentication</h3>
<div class="paragraph">
<p>You do not create users in OpenShift Enterprise when integrating with an external
authentication provider, such as, in this case, GitHub. GitHub is the system of
record, meaning that users are defined by GitHub, and any user belonging to a
specified organization can log in.</p>
</div>
<div class="paragraph">
<p>To add a user to OpenShift Enterprise, you must add that user to an approved
organization on GitHub, and if required create a new GitHub account for the
user.</p>
</div>
</div>
<div class="sect2">
<h3 id="view-users-github-auth"><a class="anchor" href="#view-users-github-auth"></a>Viewing Users</h3>
<div class="paragraph">
<p>Once one or more users have logged in, you can run <code>oc get users</code> to view a
list of users and verify that users were created successfully:</p>
</div>
<div class="exampleblock">
<div class="title">Example 3. Output of <code>oc get users</code> command</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>$ oc get users
NAME         UID                                    FULL NAME   IDENTITIES
bobsmith     433b5641-066f-11e6-a6d8-acfc32c1ca87   Bob Smith   github:873654 <i class="conum" data-value="1"></i><b>(1)</b></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Identities in OpenShift Enterprise are comprised of the identity provider name and GitHub&#8217;s internal numeric user ID. This way, if a user changes their GitHub username or e-mail they can still log in to OpenShift Enterprise instead of relying on the credentials attached to the GitHub account. This creates a stable login.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>From here, you might want to learn how to
<a href="../admin_solutions/user_role_mgmt.html#control-user-roles">control user roles</a>.</p>
</div>
</div>
</div>
</div>
      </div>
    </div>
  </div>
  <script type="text/javascript">
    /*<![CDATA[*/
    $(document).ready(function() {
      $("[id^='topicGroup']").on('show.bs.collapse', function (event) {
        if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
          $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
        }
      });
      $("[id^='topicGroup']").on('hide.bs.collapse', function (event) {
        if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
          $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
        }
      });
      $("[id^='topicSubGroup']").on('show.bs.collapse', function () {
        $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
      });
      $("[id^='topicSubGroup']").on('hide.bs.collapse', function () {
        $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
      });
    });
    /*]]>*/
  </script>
    <footer class="footer-openshift">
  <div class="container">
    <div class="row">
      <div class="col-xs-12 col-sm-4 col-md-3">
        <a href="https://www.redhat.com/"></a>
      </div>
      <div class="col-xs-12 col-sm-4 col-md-6 text-center">
        <div class="row">
          <div class="col-xs-12 col-md-4">
          </div>
          <div class="col-xs-12 col-md-4">
          </div>
          <div class="col-xs-12 col-md-4">
          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-4 col-md-3 text-right">
        <a id="built_with_asciibinder" href="http://asciibinder.org/">
          <img src="../../master/_images/asciibinder_web_logo.svg" alt="AsciiBinder" />
        </a>
      </div>
    </div>
  </div>
</footer>
</body>
</html>