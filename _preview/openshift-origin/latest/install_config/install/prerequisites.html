<!DOCTYPE html>
<!--[if IE 8]> <html class="ie8"> <![endif]-->
<!--[if IE 9]> <html class="ie9"> <![endif]-->
<!--[if gt IE 9]><!-->
<html>
<!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>OpenShift Origin | Installation and Configuration | Installing a Cluster | Prerequisites</title>
  <link href="/_stylesheets/subdomain.css" rel="stylesheet" type="text/css">
  <link href="/_stylesheets/docs.css" rel="stylesheet" type="text/css"/>
  <link href="/_stylesheets/font-awesome.min.css" rel="stylesheet" type="text/css"/>
  <!--
  <link href="https://raw.githubusercontent.com/thedigitalgarage/origin-web-console/master/extensions/thedigitalgarage/css/main.css" rel="stylesheet" type="text/css">
  -->
  <link href="/_images/favicon.png" rel="apple-touch-icon-precomposed" type="image/png">
  <link href="/_images/favicon.png" rel="shortcut icon" type="text/css">
  <!--[if IE]><link rel="shortcut icon" href="https://assets.openshift.net/content/subdomain/favicon.ico"><![endif]-->
  <!-- or, set /favicon.ico for IE10 win -->
  <meta content="the Digital Garage" name="application-name">
  <meta content="#000000" name="msapplication-TileColor">
  <meta content="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" name="msapplication-TileImage">
  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://assets.openshift.net/content/html5shiv.js" type="text/javascript"></script>
    <script src="https://assets.openshift.net/content/respond.js" type="text/javascript"></script>
    <link href="https://assets.openshift.net/content/vendor/respond-js/respond-proxy.html" id="respond-proxy" rel="respond-proxy">
    <link href="/_images/respond.proxy.gif" id="respond-redirect" rel="respond-redirect">
    <script src="/_javascripts/respond.proxy.js" type="text/javascript"></script>
  <![endif]-->
  <script src="https://assets.openshift.net/content/modernizr.js" type="text/javascript"></script>
  <script src="https://assets.openshift.net/content/subdomain.js" type="text/javascript"></script>
  <script src="/_javascripts/bootstrap-offcanvas.js" type="text/javascript"></script>
  <script src="https://assets.openshift.net/app/assets/site/tracking.js" type="text/javascript"></script>
  <script async src="//www.google-analytics.com/analytics.js" type="text/javascript"></script>
<script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-40375612-1', 'openshift.org');
  ga('set', 'forceSSL', true);
  ga('send', 'pageview');
</script>
</head>
<body>
  <div class="navbar navbar-default navbar-openshift" role="navigation">
  <div class="navbar-header">
    <a class="navbar-brand" href="/"></a>
  </div>
  <div class="navbar-collapse collapse">
  </div>
</div>
  <div class="container">
    <p class="toggle-nav visible-xs pull-left">
      <button class="btn btn-default btn-sm" type="button" data-toggle="offcanvas">Toggle nav</button>
    </p>
    <ol class="breadcrumb">
      <li class="sitename">
        <a href="../../../index.html">Documentation</a>
      </li>
      <li class="hidden-xs active">
        <a href="../../welcome/index.html">OpenShift Origin Latest</a>
      </li>
      <li class="hidden-xs active">
        <a href="../../install_config/index.html">Installation and Configuration</a>
      </li>
      <li class="hidden-xs active"><a href="../../install_config/install/planning.html">Installing a Cluster</a></li>
      <li class="hidden-xs active">
        Prerequisites
      </li>
    </ol>
    <div class="row row-offcanvas row-offcanvas-left">
      <div class="col-xs-8 col-sm-3 col-md-3 sidebar sidebar-offcanvas">
        <div class="row-fluid">
          
<script>
  (function() {
    var cx = '013769182564158614814:vdyz7waqya4';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>

        </div>
        <ul class="nav nav-sidebar">
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup0">
        <span id="tgSpan0" class="fa fa-angle-right"></span>About
      </a>
      <ul id="topicGroup0" class="collapse  list-unstyled">
            <li><a class="" href="../../welcome/index.html">Welcome</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup1">
        <span id="tgSpan1" class="fa fa-angle-right"></span>What's New?
      </a>
      <ul id="topicGroup1" class="collapse  list-unstyled">
            <li><a class="" href="../../whats_new/index.html">Overview</a></li>
            <li><a class="" href="../../whats_new/applications.html">Applications</a></li>
            <li><a class="" href="../../whats_new/carts_vs_images.html">Cartridges vs Images</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup2">
        <span id="tgSpan2" class="fa fa-angle-right"></span>Getting Started
      </a>
      <ul id="topicGroup2" class="collapse  list-unstyled">
            <li><a class="" href="../../getting_started/index.html">Overview</a></li>
            <li><a class="" href="../../getting_started/developers_console.html">Web Console Walkthrough</a></li>
            <li><a class="" href="../../getting_started/developers_cli.html">Command-Line Walkthrough</a></li>
            <li><a class="" href="../../getting_started/administrators.html">Setting Up a Cluster</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup3">
        <span id="tgSpan3" class="fa fa-angle-right"></span>Architecture
      </a>
      <ul id="topicGroup3" class="collapse  list-unstyled">
            <li><a class="" href="../../architecture/index.html">Overview</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-1">
                <span id="sgSpan-3-1" class="fa fa-caret-right"></span>&nbsp;Infrastructure Components
              </a>
              <ul id="topicSubGroup-3-1" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../architecture/infrastructure_components/kubernetes_infrastructure.html">Kubernetes Infrastructure</a></li>

                  <li><a class="" href="../../architecture/infrastructure_components/image_registry.html">Image Registry</a></li>

                  <li><a class="" href="../../architecture/infrastructure_components/web_console.html">Web Console</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-2">
                <span id="sgSpan-3-2" class="fa fa-caret-right"></span>&nbsp;Core Concepts
              </a>
              <ul id="topicSubGroup-3-2" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../architecture/core_concepts/index.html">Overview</a></li>

                  <li><a class="" href="../../architecture/core_concepts/containers_and_images.html">Containers and Images</a></li>

                  <li><a class="" href="../../architecture/core_concepts/pods_and_services.html">Pods and Services</a></li>

                  <li><a class="" href="../../architecture/core_concepts/projects_and_users.html">Projects and Users</a></li>

                  <li><a class="" href="../../architecture/core_concepts/builds_and_image_streams.html">Builds and Image Streams</a></li>

                  <li><a class="" href="../../architecture/core_concepts/deployments.html">Deployments</a></li>

                  <li><a class="" href="../../architecture/core_concepts/routes.html">Routes</a></li>

                  <li><a class="" href="../../architecture/core_concepts/templates.html">Templates</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-3-3">
                <span id="sgSpan-3-3" class="fa fa-caret-right"></span>&nbsp;Additional Concepts
              </a>
              <ul id="topicSubGroup-3-3" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../architecture/additional_concepts/networking.html">Networking</a></li>

                  <li><a class="" href="../../architecture/additional_concepts/sdn.html">OpenShift SDN</a></li>

                  <li><a class="" href="../../architecture/additional_concepts/authentication.html">Authentication</a></li>

                  <li><a class="" href="../../architecture/additional_concepts/authorization.html">Authorization</a></li>

                  <li><a class="" href="../../architecture/additional_concepts/storage.html">Persistent Storage</a></li>

                  <li><a class="" href="../../architecture/additional_concepts/remote_commands.html">Remote Commands</a></li>

                  <li><a class="" href="../../architecture/additional_concepts/port_forwarding.html">Port Forwarding</a></li>

                  <li><a class="" href="../../architecture/additional_concepts/throttling.html">Throttling</a></li>

                  <li><a class="" href="../../architecture/additional_concepts/scm.html">Source Control Management</a></li>

                  <li><a class="" href="../../architecture/additional_concepts/admission_controllers.html">Admission Controllers</a></li>

                  <li><a class="" href="../../architecture/additional_concepts/other_api_objects.html">Other API Objects</a></li>
              </ul>
            </li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup4">
        <span id="tgSpan4" class="fa fa-angle-down"></span>Installation and Configuration
      </a>
      <ul id="topicGroup4" class="collapse in list-unstyled">
            <li><a class="" href="../../install_config/index.html">Overview</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-4-1">
                <span id="sgSpan-4-1" class="fa fa-caret-down"></span>&nbsp;Installing a Cluster
              </a>
              <ul id="topicSubGroup-4-1" class="nav-tertiary list-unstyled collapse in">

                  <li><a class="" href="../../install_config/install/planning.html">Planning</a></li>

                  <li><a class=" active" href="../../install_config/install/prerequisites.html">Prerequisites</a></li>

                  <li><a class="" href="../../install_config/install/host_preparation.html">Host Preparation</a></li>

                  <li><a class="" href="../../install_config/install/rpm_vs_containerized.html">Containerized Components</a></li>

                  <li><a class="" href="../../install_config/install/quick_install.html">Quick Installation</a></li>

                  <li><a class="" href="../../install_config/install/advanced_install.html">Advanced Installation</a></li>

                  <li><a class="" href="../../install_config/install/stand_alone_registry.html">Installing a Stand-alone Registry</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-4-2">
                <span id="sgSpan-4-2" class="fa fa-caret-right"></span>&nbsp;Setting up the Registry
              </a>
              <ul id="topicSubGroup-4-2" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../install_config/registry/index.html">Registry Overview</a></li>

                  <li><a class="" href="../../install_config/registry/deploy_registry_existing_clusters.html">Deploying a Registry on Existing Clusters</a></li>

                  <li><a class="" href="../../install_config/registry/accessing_registry.html">Accessing the Registry</a></li>

                  <li><a class="" href="../../install_config/registry/securing_and_exposing_registry.html">Securing and Exposing the Registry</a></li>

                  <li><a class="" href="../../install_config/registry/extended_registry_configuration.html">Extended Registry Configuration</a></li>

                  <li><a class="" href="../../install_config/registry/registry_known_issues.html">Known Issues</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-4-3">
                <span id="sgSpan-4-3" class="fa fa-caret-right"></span>&nbsp;Setting up a Router
              </a>
              <ul id="topicSubGroup-4-3" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../install_config/router/index.html">Router Overview</a></li>

                  <li><a class="" href="../../install_config/router/default_haproxy_router.html">Using the Default HAProxy Router</a></li>

                  <li><a class="" href="../../install_config/router/customized_haproxy_router.html">Deploying a Customized HAProxy Router</a></li>

                  <li><a class="" href="../../install_config/router/f5_router.html">Using the F5 Router Plug-in</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-4-4">
                <span id="sgSpan-4-4" class="fa fa-caret-right"></span>&nbsp;Upgrading a Cluster
              </a>
              <ul id="topicSubGroup-4-4" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../install_config/upgrading/index.html">Overview</a></li>

                  <li><a class="" href="../../install_config/upgrading/automated_upgrades.html">Automated In-place Upgrades</a></li>

                  <li><a class="" href="../../install_config/upgrading/manual_upgrades.html">Manual In-place Upgrades</a></li>

                  <li><a class="" href="../../install_config/upgrading/blue_green_deployments.html">Blue-Green Deployments</a></li>
              </ul>
            </li>
            <li><a class="" href="../../install_config/master_node_configuration.html">Master and Node Configuration</a></li>
            <li><a class="" href="../../install_config/adding_hosts_to_existing_cluster.html">Adding Hosts to an Existing Cluster</a></li>
            <li><a class="" href="../../install_config/imagestreams_templates.html">Loading the Default Image Streams and Templates</a></li>
            <li><a class="" href="../../install_config/certificate_customization.html">Configuring Custom Certificates</a></li>
            <li><a class="" href="../../install_config/redeploying_certificates.html">Redeploying Certificates</a></li>
            <li><a class="" href="../../install_config/configuring_authentication.html">Configuring Authentication and User Agent</a></li>
            <li><a class="" href="../../install_config/syncing_groups_with_ldap.html">Syncing Groups With LDAP</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-4-12">
                <span id="sgSpan-4-12" class="fa fa-caret-right"></span>&nbsp;Advanced LDAP Configuration
              </a>
              <ul id="topicSubGroup-4-12" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../install_config/advanced_ldap_configuration/index.html">Overview</a></li>

                  <li><a class="" href="../../install_config/advanced_ldap_configuration/sssd_for_ldap_failover.html">Setting up SSSD for LDAP Failover</a></li>

                  <li><a class="" href="../../install_config/advanced_ldap_configuration/configuring_form_based_authentication.html">Configuring Form-Based Authentication</a></li>

                  <li><a class="" href="../../install_config/advanced_ldap_configuration/configuring_extended_ldap_attributes.html">Configuring Extended LDAP Attributes</a></li>
              </ul>
            </li>
            <li><a class="" href="../../install_config/configuring_sdn.html">Configuring the SDN</a></li>
            <li><a class="" href="../../install_config/configuring_aws.html">Configuring for AWS</a></li>
            <li><a class="" href="../../install_config/configuring_openstack.html">Configuring for OpenStack</a></li>
            <li><a class="" href="../../install_config/configuring_gce.html">Configuring for GCE</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-4-17">
                <span id="sgSpan-4-17" class="fa fa-caret-right"></span>&nbsp;Configuring Persistent Storage
              </a>
              <ul id="topicSubGroup-4-17" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../install_config/persistent_storage/index.html">Overview</a></li>

                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_nfs.html">Using NFS</a></li>

                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_glusterfs.html">Using GlusterFS</a></li>

                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_cinder.html">Using OpenStack Cinder</a></li>

                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_ceph_rbd.html">Using Ceph RBD</a></li>

                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_aws.html">Using AWS Elastic Block Store</a></li>

                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_gce.html">Using GCE Persistent Disk</a></li>

                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_iscsi.html">Using iSCSI</a></li>

                  <li><a class="" href="../../install_config/persistent_storage/persistent_storage_fibre_channel.html">Using Fibre Channel</a></li>

                  <li><a class="" href="../../install_config/persistent_storage/dynamically_provisioning_pvs.html">Dynamic Provisioning</a></li>

                  <li><a class="" href="../../install_config/persistent_storage/pod_security_context.html">Volume Security</a></li>

                  <li><a class="" href="../../install_config/persistent_storage/selector_label_binding.html">Selector-Label Volume Binding</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-4-18">
                <span id="sgSpan-4-18" class="fa fa-caret-right"></span>&nbsp;Persistent Storage Examples
              </a>
              <ul id="topicSubGroup-4-18" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../install_config/storage_examples/index.html">Overview</a></li>

                  <li><a class="" href="../../install_config/storage_examples/shared_storage.html">Sharing an NFS PV Across Two Pods</a></li>

                  <li><a class="" href="../../install_config/storage_examples/ceph_example.html">Complete Example Using Ceph RBD</a></li>

                  <li><a class="" href="../../install_config/storage_examples/gluster_example.html">Complete Example Using GlusterFS</a></li>

                  <li><a class="" href="../../install_config/storage_examples/privileged_pod_storage.html">Mounting Volumes To Privileged Pods</a></li>

                  <li><a class="" href="../../install_config/storage_examples/gluster_backed_registry.html">Backing Docker Registry with GlusterFS Storage</a></li>

                  <li><a class="" href="../../install_config/storage_examples/binding_pv_by_label.html">Binding Persistent Volumes by Label</a></li>
              </ul>
            </li>
            <li><a class="" href="../../install_config/http_proxies.html">Working with HTTP Proxies</a></li>
            <li><a class="" href="../../install_config/build_defaults_overrides.html">Configuring Global Build Defaults and Overrides</a></li>
            <li><a class="" href="../../install_config/configuring_pipeline_execution.html">Configuring Build Pipeline Execution</a></li>
            <li><a class="" href="../../install_config/configuring_routing.html">Configuring Routing</a></li>
            <li><a class="" href="../../install_config/routing_from_edge_lb.html">Routing from Edge Load Balancers</a></li>
            <li><a class="" href="../../install_config/aggregate_logging.html">Aggregating Container Logs</a></li>
            <li><a class="" href="../../install_config/aggregate_logging_sizing.html">Aggregate Logging Sizing Guidelines</a></li>
            <li><a class="" href="../../install_config/cluster_metrics.html">Enabling Cluster Metrics</a></li>
            <li><a class="" href="../../install_config/web_console_customization.html">Customizing the Web Console</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup5">
        <span id="tgSpan5" class="fa fa-angle-right"></span>Cluster Administration
      </a>
      <ul id="topicGroup5" class="collapse  list-unstyled">
            <li><a class="" href="../../admin_guide/index.html">Overview</a></li>
            <li><a class="" href="../../admin_guide/manage_nodes.html">Managing Nodes</a></li>
            <li><a class="" href="../../admin_guide/manage_users.html">Managing Users</a></li>
            <li><a class="" href="../../admin_guide/managing_projects.html">Managing Projects</a></li>
            <li><a class="" href="../../admin_guide/managing_pods.html">Managing Pods</a></li>
            <li><a class="" href="../../admin_guide/service_accounts.html">Configuring Service Accounts</a></li>
            <li><a class="" href="../../admin_guide/manage_authorization_policy.html">Managing Authorization Policies</a></li>
            <li><a class="" href="../../admin_guide/image_policy.html">Image Policy</a></li>
            <li><a class="" href="../../admin_guide/monitoring_images.html">Monitoring Images</a></li>
            <li><a class="" href="../../admin_guide/manage_scc.html">Managing Security Context Constraints</a></li>
            <li><a class="" href="../../admin_guide/quota.html">Setting Quotas</a></li>
            <li><a class="" href="../../admin_guide/multiproject_quota.html">Setting Multi-Project Quotas</a></li>
            <li><a class="" href="../../admin_guide/limits.html">Setting Limit Ranges</a></li>
            <li><a class="" href="../../admin_guide/pruning_resources.html">Pruning Objects</a></li>
            <li><a class="" href="../../admin_guide/garbage_collection.html">Garbage Collection</a></li>
            <li><a class="" href="../../admin_guide/scheduler.html">Scheduler</a></li>
            <li><a class="" href="../../admin_guide/allocating_node_resources.html">Allocating Node Resources</a></li>
            <li><a class="" href="../../admin_guide/overcommit.html">Overcommitting</a></li>
            <li><a class="" href="../../admin_guide/tcp_ingress_external_ports.html">Assigning Unique External IPs for Ingress Traffic</a></li>
            <li><a class="" href="../../admin_guide/router.html">Monitoring Routers</a></li>
            <li><a class="" href="../../admin_guide/high_availability.html">High Availability</a></li>
            <li><a class="" href="../../admin_guide/iptables.html">IPtables</a></li>
            <li><a class="" href="../../admin_guide/securing_builds.html">Securing Builds by Strategy</a></li>
            <li><a class="" href="../../admin_guide/building_dependency_trees.html">Building Dependency Trees</a></li>
            <li><a class="" href="../../admin_guide/backup_restore.html">Backup and Restore</a></li>
            <li><a class="" href="../../admin_guide/sdn_troubleshooting.html">Troubleshooting Networking</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup6">
        <span id="tgSpan6" class="fa fa-angle-right"></span>CLI Reference
      </a>
      <ul id="topicGroup6" class="collapse  list-unstyled">
            <li><a class="" href="../../cli_reference/index.html">Overview</a></li>
            <li><a class="" href="../../cli_reference/get_started_cli.html">Get Started with the CLI</a></li>
            <li><a class="" href="../../cli_reference/manage_cli_profiles.html">Managing CLI Profiles</a></li>
            <li><a class="" href="../../cli_reference/basic_cli_operations.html">Developer CLI Operations</a></li>
            <li><a class="" href="../../cli_reference/admin_cli_operations.html">Administrator CLI Operations</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup7">
        <span id="tgSpan7" class="fa fa-angle-right"></span>Developer Guide
      </a>
      <ul id="topicGroup7" class="collapse  list-unstyled">
            <li><a class="" href="../../dev_guide/index.html">Overview</a></li>
            <li><a class="" href="../../dev_guide/application_lifecycle.html">Application Life Cycle Examples</a></li>
            <li><a class="" href="../../dev_guide/authentication.html">Authentication</a></li>
            <li><a class="" href="../../dev_guide/projects.html">Projects</a></li>
            <li><a class="" href="../../dev_guide/new_app.html">Creating New Applications</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-7-5">
                <span id="sgSpan-7-5" class="fa fa-caret-right"></span>&nbsp;Migrating Applications
              </a>
              <ul id="topicSubGroup-7-5" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../dev_guide/migrating_applications/index.html">Overview</a></li>

                  <li><a class="" href="../../dev_guide/migrating_applications/database_applications.html">Database Applications</a></li>

                  <li><a class="" href="../../dev_guide/migrating_applications/web_framework_applications.html">Web Framework Applications</a></li>

                  <li><a class="" href="../../dev_guide/migrating_applications/quickstart_examples.html">QuickStart Examples</a></li>

                  <li><a class="" href="../../dev_guide/migrating_applications/continuous_integration_and_deployment.html">Continuous Integration and Deployment</a></li>

                  <li><a class="" href="../../dev_guide/migrating_applications/web_hooks_action_hooks.html">Webhooks and Action Hooks</a></li>

                  <li><a class="" href="../../dev_guide/migrating_applications/S2I_tool.html">S2I Tool</a></li>

                  <li><a class="" href="../../dev_guide/migrating_applications/support_guide.html">Support Guide</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-7-6">
                <span id="sgSpan-7-6" class="fa fa-caret-right"></span>&nbsp;Application Tutorials
              </a>
              <ul id="topicSubGroup-7-6" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../dev_guide/app_tutorials/index.html">Overview</a></li>

                  <li><a class="" href="../../dev_guide/app_tutorials/quickstarts.html">Quickstart Templates</a></li>

                  <li><a class="" href="../../dev_guide/app_tutorials/ruby_on_rails.html">Ruby on Rails</a></li>

                  <li><a class="" href="../../dev_guide/app_tutorials/maven_tutorial.html">Setting Up a Nexus Mirror</a></li>
              </ul>
            </li>
            <li><a class="" href="../../dev_guide/ssh_environment.html">Opening a Remote Shell to Containers</a></li>
            <li><a class="" href="../../dev_guide/templates.html">Templates</a></li>
            <li><a class="" href="../../dev_guide/service_accounts.html">Service Accounts</a></li>
            <li><a class="" href="../../dev_guide/builds.html">Builds</a></li>
            <li><a class="" href="../../dev_guide/managing_images.html">Managing Images</a></li>
            <li><a class="" href="../../dev_guide/compute_resources.html">Quotas and Limit Ranges</a></li>
            <li><a class="" href="../../dev_guide/deployments.html">Deployments</a></li>
            <li><a class="" href="../../dev_guide/getting_traffic_into_cluster.html">Getting Traffic Into The Cluster</a></li>
            <li><a class="" href="../../dev_guide/routes.html">Routes</a></li>
            <li><a class="" href="../../dev_guide/integrating_external_services.html">Integrating External Services</a></li>
            <li><a class="" href="../../dev_guide/secrets.html">Secrets</a></li>
            <li><a class="" href="../../dev_guide/configmaps.html">ConfigMaps</a></li>
            <li><a class="" href="../../dev_guide/daemonsets.html">Using Daemonsets</a></li>
            <li><a class="" href="../../dev_guide/pod_autoscaling.html">Pod Autoscaling</a></li>
            <li><a class="" href="../../dev_guide/volumes.html">Managing Volumes</a></li>
            <li><a class="" href="../../dev_guide/persistent_volumes.html">Using Persistent Volumes</a></li>
            <li><a class="" href="../../dev_guide/executing_remote_commands.html">Executing Remote Commands</a></li>
            <li><a class="" href="../../dev_guide/copy_files_to_container.html">Copying Files</a></li>
            <li><a class="" href="../../dev_guide/port_forwarding.html">Port Forwarding</a></li>
            <li><a class="" href="../../dev_guide/shared_memory.html">Shared Memory</a></li>
            <li><a class="" href="../../dev_guide/application_health.html">Application Health</a></li>
            <li><a class="" href="../../dev_guide/events.html">Events</a></li>
            <li><a class="" href="../../dev_guide/downward_api.html">Downward API</a></li>
            <li><a class="" href="../../dev_guide/environment_variables.html">Managing Environment Variables</a></li>
            <li><a class="" href="../../dev_guide/jobs.html">Jobs</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup8">
        <span id="tgSpan8" class="fa fa-angle-right"></span>Creating Images
      </a>
      <ul id="topicGroup8" class="collapse  list-unstyled">
            <li><a class="" href="../../creating_images/index.html">Overview</a></li>
            <li><a class="" href="../../creating_images/guidelines.html">Guidelines</a></li>
            <li><a class="" href="../../creating_images/metadata.html">Image Metadata</a></li>
            <li><a class="" href="../../creating_images/s2i.html">S2I Requirements</a></li>
            <li><a class="" href="../../creating_images/s2i_testing.html">Testing S2I Images</a></li>
            <li><a class="" href="../../creating_images/custom.html">Custom Builder</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup9">
        <span id="tgSpan9" class="fa fa-angle-right"></span>Using Images
      </a>
      <ul id="topicGroup9" class="collapse  list-unstyled">
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-9-0">
                <span id="sgSpan-9-0" class="fa fa-caret-right"></span>&nbsp;Source-to-Image (S2I)
              </a>
              <ul id="topicSubGroup-9-0" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../using_images/s2i_images/index.html">Overview</a></li>

                  <li><a class="" href="../../using_images/s2i_images/customizing_s2i_images.html">Customizing S2I images</a></li>

                  <li><a class="" href="../../using_images/s2i_images/nodejs.html">Node.js</a></li>

                  <li><a class="" href="../../using_images/s2i_images/ruby.html">Ruby</a></li>

                  <li><a class="" href="../../using_images/s2i_images/perl.html">Perl</a></li>

                  <li><a class="" href="../../using_images/s2i_images/php.html">PHP</a></li>

                  <li><a class="" href="../../using_images/s2i_images/python.html">Python</a></li>

                  <li><a class="" href="../../using_images/s2i_images/java.html">Java</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-9-1">
                <span id="sgSpan-9-1" class="fa fa-caret-right"></span>&nbsp;Database Images
              </a>
              <ul id="topicSubGroup-9-1" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../using_images/db_images/index.html">Overview</a></li>

                  <li><a class="" href="../../using_images/db_images/mysql.html">MySQL</a></li>

                  <li><a class="" href="../../using_images/db_images/postgresql.html">PostgreSQL</a></li>

                  <li><a class="" href="../../using_images/db_images/mongodb.html">MongoDB</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-9-2">
                <span id="sgSpan-9-2" class="fa fa-caret-right"></span>&nbsp;Docker Images
              </a>
              <ul id="topicSubGroup-9-2" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../using_images/docker_images/index.html">Overview</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-9-3">
                <span id="sgSpan-9-3" class="fa fa-caret-right"></span>&nbsp;Other Images
              </a>
              <ul id="topicSubGroup-9-3" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../../using_images/other_images/index.html">Overview</a></li>

                  <li><a class="" href="../../using_images/other_images/jenkins.html">Jenkins</a></li>
              </ul>
            </li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup10">
        <span id="tgSpan10" class="fa fa-angle-right"></span>REST API Reference
      </a>
      <ul id="topicGroup10" class="collapse  list-unstyled">
            <li><a class="" href="../../rest_api/index.html">Overview</a></li>
            <li><a class="" href="../../rest_api/openshift_v1.html">OpenShift v1</a></li>
            <li><a class="" href="../../rest_api/kubernetes_v1.html">Kubernetes v1</a></li>
      </ul>
    </li>
</ul>
      </div>
      <div class="col-xs-12 col-sm-9 col-md-9 main">
        <div class="page-header">
          <h2>Prerequisites</h2>
        </div>
        <div id="preamble">
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title"></div>
<ul class="sectlevel1">
<li><a href="#system-requirements">System Requirements</a>
<ul class="sectlevel2">
<li><a href="#hardware">Minimum Hardware Requirements</a></li>
<li><a href="#production-level-hardware-requirements">Production Level Hardware Requirements</a></li>
<li><a href="#configuring-core-usage">Configuring Core Usage</a></li>
<li><a href="#prereq-selinux">SELinux</a></li>
<li><a href="#security-warning">Security Warning</a></li>
</ul>
</li>
<li><a href="#envirornment-requirements">Environment Requirements</a>
<ul class="sectlevel2">
<li><a href="#prereq-dns">DNS</a></li>
<li><a href="#prereq-network-access">Network Access</a></li>
<li><a href="#prereq-git">Git Access</a></li>
<li><a href="#prereq-persistent-storage">Persistent Storage</a></li>
<li><a href="#prereq-cloud-provider-considerations">Cloud Provider Considerations</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="system-requirements"><a class="anchor" href="#system-requirements"></a>System Requirements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following sections identify the hardware specifications and system-level
requirements of all hosts within your OpenShift Origin environment.</p>
</div>
<div class="sect2">
<h3 id="hardware"><a class="anchor" href="#hardware"></a>Minimum Hardware Requirements</h3>
<div class="paragraph">
<p>The system requirements vary per host type:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 87.5%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../../architecture/infrastructure_components/kubernetes_infrastructure.html#master">Masters</a></p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>Physical or virtual system, or an instance running on a public or private IaaS.</p>
</li>
<li>
<p>Base OS: Fedora 21, CentOS 7.1, or RHEL 7.1 or later with "Minimal"
installation option, or RHEL Atomic Host 7.2.6 or later.</p>
</li>
<li>
<p>2 vCPU.</p>
</li>
<li>
<p>Minimum 16 GB RAM.</p>
</li>
<li>
<p>Minimum 40 GB hard disk space for the file system containing <strong><em>/var/</em></strong>.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../../architecture/infrastructure_components/kubernetes_infrastructure.html#node">Nodes</a></p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>Physical or virtual system, or an instance running on a public or private IaaS.</p>
</li>
<li>
<p>Base OS: Fedora 21, CentOS 7.1, or RHEL 7.1 or later with "Minimal"
installation option, or RHEL Atomic Host 7.2.6 or later.</p>
</li>
<li>
<p>NetworkManager 1.0 or later</p>
</li>
<li>
<p>1 vCPU.</p>
</li>
<li>
<p>Minimum 8 GB RAM.</p>
</li>
<li>
<p>Minimum 15 GB hard disk space for the file system containing <strong><em>/var/</em></strong>.</p>
</li>
<li>
<p>An additional minimum 15 GB unallocated space to be used for Docker&#8217;s storage
back end; see <a href="#configuring-docker-storage">Configuring Docker Storage</a>
below.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">External etcd Nodes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minimum 20 GB hard disk space for etcd data.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>OpenShift Origin only supports servers with x86_64 architecture.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Meeting the <strong><em>/var/</em></strong> file system sizing requirements in RHEL Atomic Host
requires making changes to the default configuration. See
<a href="https://access.redhat.com/documentation/en/red-hat-enterprise-linux-atomic-host/version-7/getting-started-with-containers/#managing_storage_in_red_hat_enterprise_linux_atomic_host">Managing
Storage in Red Hat Enterprise Linux Atomic Host</a> for instructions on configuring
this during or after installation.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="production-level-hardware-requirements"><a class="anchor" href="#production-level-hardware-requirements"></a>Production Level Hardware Requirements</h3>
<div class="paragraph">
<p>Test or sample environments function with the minimum requirements. For
production environments, the following recommendations apply:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Master Hosts</dt>
<dd>
<p>In a highly available OpenShift Origin cluster with external etcd, a master host
should have 1 CPU core and 1.5 GB of memory, on top of the defaults in the table
above, for each 1000 pods. Therefore, the recommended size of master host in an
OpenShift Origin cluster of 2000 pods would be 2 CPU cores and 3 GB of RAM, in
addition to the minimum requirements for a master host of 2 CPU cores and 16 GB
of RAM.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>When planning an environment with multiple masters, a minimum of three etcd
hosts as well as a load-balancer between the master hosts, is required.</p>
</div>
<div class="paragraph">
<p>The OpenShift Origin master caches deserialized versions of resources
aggressively to ease CPU load. However, in smaller clusters of less than 1000
pods, this cache can waste a lot of memory for negligible CPU load reduction.
The default cache size is 50000 entries, which, depending on the size of your
resources, can grow to occupy 1 to 2 GB of memory.  This cache size can be
reduced using the following setting the in <strong><em>master-config.yaml</em></strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">kubernetesMasterConfig:
  apiServerArguments:
    deserialization-cache-size:
    - "1000"</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Node Hosts</dt>
<dd>
<p>The size of a node host depends on the expected size of its workload. As an
OpenShift Origin cluster administrator, you will need to calculate the expected
workload, then add about 10 per cent for overhead. For production environments,
allocate enough resources so that node host failure does not affect your maximum
capacity.</p>
</dd>
</dl>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Oversubscribing the physical resources on a node affects resource guarantees the
Kubernetes scheduler makes during pod placement. Learn what measures you can
take to <a href="../../admin_guide/overcommit.html#disabling-swap-memory">avoid memory swapping</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="configuring-core-usage"><a class="anchor" href="#configuring-core-usage"></a>Configuring Core Usage</h3>
<div class="paragraph">
<p>By default, OpenShift Origin masters and nodes use all available cores in the
system they run on. You can choose the number of cores you want OpenShift Origin
to use by setting the <a href="https://golang.org/pkg/runtime/"><code><strong>GOMAXPROCS</strong></code> environment
variable</a>.</p>
</div>
<div class="paragraph">
<p>For example, run the following before starting the server to make
OpenShift Origin only run on one core:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="nowrap"># export GOMAXPROCS=1</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Alternatively, if you plan to
<a href="../../getting_started/administrators.html#running-in-a-docker-container">run
OpenShift in a Docker container</a>, add <code>-e GOMAXPROCS=1</code> to the <code>docker run</code>
command when launching the server.</p>
</div>
</div>
<div class="sect2">
<h3 id="prereq-selinux"><a class="anchor" href="#prereq-selinux"></a>SELinux</h3>
<div class="paragraph">
<p>Security-Enhanced Linux (SELinux) must be enabled on all of the servers before
installing OpenShift Origin or the installer will fail. Also, configure
<code><strong>SELINUXTYPE=targeted</strong></code> in the <strong><em>/etc/selinux/config</em></strong> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"># This file controls the state of SELinux on the system.
# SELINUX= can take one of these three values:
#     enforcing - SELinux security policy is enforced.
#     permissive - SELinux prints warnings instead of enforcing.
#     disabled - No SELinux policy is loaded.
SELINUX=enforcing
# SELINUXTYPE= can take one of these three values:
#     targeted - Targeted processes are protected,
#     minimum - Modification of targeted policy. Only selected processes are protected.
#     mls - Multi Level Security protection.
SELINUXTYPE=targeted</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="security-warning"><a class="anchor" href="#security-warning"></a>Security Warning</h3>
<div class="paragraph">
<p>OpenShift Origin runs
<a href="../../architecture/core_concepts/containers_and_images.html#containers">Docker
containers</a> on your hosts, and in some cases, such as build operations and the
registry service, it does so using privileged containers. Furthermore, those
containers access your host&#8217;s Docker daemon and perform <code>docker build</code> and
<code>docker push</code> operations. As such, you should be aware of the inherent security
risks associated with performing <code>docker run</code> operations on arbitrary images as
they effectively have root access.</p>
</div>
<div class="paragraph">
<p>For more information, see these articles:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://opensource.com/business/14/7/docker-security-selinux" class="bare">http://opensource.com/business/14/7/docker-security-selinux</a></p>
</li>
<li>
<p><a href="https://docs.docker.com/articles/security/" class="bare">https://docs.docker.com/articles/security/</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To address these risks, OpenShift Origin uses
<a href="../../architecture/additional_concepts/authorization.html#security-context-constraints">security
context constraints</a> that control the actions that pods can perform and what it
has the ability to access.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="envirornment-requirements"><a class="anchor" href="#envirornment-requirements"></a>Environment Requirements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following section defines the requirements of the environment containing
your OpenShift Origin configuration. This includes networking considerations
and access to external services, such as a Git repository access, storage, and
cloud infrastructure providers.</p>
</div>
<div class="sect2">
<h3 id="prereq-dns"><a class="anchor" href="#prereq-dns"></a>DNS</h3>
<div class="paragraph">
<p>OpenShift Origin requires a fully functional DNS server in the environment. This
is ideally a separate host running DNS software and can provide name resolution
to hosts and containers running on the platform.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Adding entries into the <strong><em>/etc/hosts</em></strong> file on each host is not enough. This
file is not copied into containers running on the platform.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Key components of OpenShift Origin run themselves inside of containers and use
the following process for name resolution:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>By default, containers receive their DNS configuration
file (<strong><em>/etc/resolv.conf</em></strong>) from their host.</p>
</li>
<li>
<p>OpenShift Origin then inserts one DNS value into the pods
(above the node&#8217;s nameserver values). That value is defined in the
<strong><em>/etc/origin/node/node-config.yaml</em></strong> file by the <code><strong>dnsIP</strong></code> parameter, which by
default is set to the address of the host node because the host is using
<strong>dnsmasq</strong>.</p>
</li>
<li>
<p>If the <code><strong>dnsIP</strong></code> parameter is omitted from the <strong><em>node-config.yaml</em></strong>
file, then the value defaults to the kubernetes service IP, which is the first
nameserver in the pod&#8217;s <strong><em>/etc/resolv.conf</em></strong> file.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>As of OpenShift Origin
1.2,
<strong>dnsmasq</strong> is automatically configured on all masters and nodes. The pods use the
nodes as their DNS, and the nodes forward the requests. By default, <strong>dnsmasq</strong>
is configured on the nodes to listen on port 53, therefore the nodes cannot run
any other type of DNS application.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Previously, in OpenShift Origin
1.1,
a DNS server could not be installed on a master node, because it ran its own
internal DNS server. Now, with master nodes using <strong>dnsmasq</strong>, SkyDNS is now
configured to listen on port 8053 so that <strong>dnsmasq</strong> can run on the masters. Note
that these DNS changes (<strong>dnsmasq</strong> configured on nodes and the SkyDNS port
change) only apply to new installations of OpenShift Origin 3.2. Clusters
upgraded to OpenShift Origin
1.2
from a previous version do not currently have these changes applied during the
upgrade process.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>NetworkManager</strong> is required on the nodes in order to populate <strong>dnsmasq</strong> with
the DNS IP addresses.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following is an example set of DNS records for the <a href="planning.html#single-master-multi-node">Single Master and Multiple Nodes</a> scenario:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">master    A   10.64.33.100
node1     A   10.64.33.101
node2     A   10.64.33.102</pre>
</div>
</div>
<div class="paragraph">
<p>If you do not have a properly functioning DNS environment, you could experience
failure with:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Product installation via the reference Ansible-based scripts</p>
</li>
<li>
<p>Deployment of the infrastructure containers (registry, routers)</p>
</li>
<li>
<p>Access to the OpenShift Origin web console, because it is not accessible via
IP address alone</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="dns-config-prereq"><a class="anchor" href="#dns-config-prereq"></a>Configuring Hosts to Use DNS</h4>
<div class="paragraph">
<p>Make sure each host in your environment is configured to resolve hostnames from
your DNS server. The configuration for hosts' DNS resolution depend on whether
DHCP is enabled. If DHCP is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Disabled, then configure your network interface to be static, and add DNS
nameservers to NetworkManager.</p>
</li>
<li>
<p>Enabled, then the NetworkManager dispatch script automatically configures DNS
based on the DHCP configuration. Optionally, you can add a value to <code><strong>dnsIP</strong></code>
in the <strong><em>node-config.yaml</em></strong> file to prepend the pod&#8217;s <strong><em>resolv.conf</em></strong> file. The
second nameserver is then defined by the host&#8217;s first nameserver. By default,
this will be the IP address of the node host.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For most configurations, do not set the <code><strong>openshift_dns_ip</strong></code> option during the
advanced installation of OpenShift Origin (using Ansible), because this option
overrides the default IP address set by <code><strong>dnsIP</strong></code>.</p>
</div>
<div class="paragraph">
<p>Instead, allow the installer to configure each node to use <strong>dnsmasq</strong> and forward
requests to SkyDNS or the external DNS provider. If you do set the
<code><strong>openshift_dns_ip</strong></code> option, then it should be set either with a DNS IP that
queries SkyDNS first, or to the SkyDNS service or endpoint IP (the Kubernetes
service IP).</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>To properly check that hosts are correctly configured to resolved to your DNS
server:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Check the contents of <strong><em>/etc/resolv.conf</em></strong>:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ cat /etc/resolv.conf
# Generated by NetworkManager
search example.com
nameserver 10.64.33.1
# nameserver updated by /etc/NetworkManager/dispatcher.d/99-origin-dns.sh</pre>
</div>
</div>
<div class="paragraph">
<p>In this example, 10.64.33.1 is the address of our DNS server.</p>
</div>
</li>
<li>
<p>Test the DNS servers listed in <strong><em>/etc/resolv.conf</em></strong> are able to resolve to the addresses of all the masters and nodes in your OpenShift Origin environment:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ dig &lt;node_hostname&gt; @&lt;IP_address&gt; +short</pre>
</div>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ dig master.example.com @10.64.33.1 +short
10.64.33.100
$ dig node1.example.com @10.64.33.1 +short
10.64.33.101</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="dns-config-prereq-disabling-dnsmasq"><a class="anchor" href="#dns-config-prereq-disabling-dnsmasq"></a>Disabling dnsmasq</h4>
<div class="paragraph">
<p>If you want to disable <strong>dnsmasq</strong> (for example, if your <strong><em>/etc/resolv.conf</em></strong> is
managed by a configuration tool other than NetworkManager), then set
<code>openshift_use_dnsmasq</code> to <strong>false</strong> in the Ansible playbook.</p>
</div>
<div class="paragraph">
<p>However, certain containers do not properly move to the next nameserver when the
first issues <strong>SERVFAIL</strong>. Red Hat Enterprise Linux (RHEL)-based containers do not
suffer from this, but certain versions of <strong>uclibc</strong> and <strong>musl</strong> do.</p>
</div>
</div>
<div class="sect3">
<h4 id="wildcard-dns-prereq"><a class="anchor" href="#wildcard-dns-prereq"></a>Configuring a DNS Wildcard</h4>
<div class="paragraph">
<p>Optionally, configure a wildcard for the router to use, so that you do not need
to update your DNS configuration when new routes are added.</p>
</div>
<div class="paragraph">
<p>A wildcard for a DNS zone must ultimately resolve to the IP address of the
OpenShift Origin <a href="../../architecture/core_concepts/routes.html#routers">router</a>.</p>
</div>
<div class="paragraph">
<p>For example, create a wildcard DNS entry for <strong>cloudapps</strong> that has a low
time-to-live value (TTL) and points to the public IP address of the host where
the router will be deployed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">*.cloudapps.example.com. 300 IN  A 192.168.133.2</pre>
</div>
</div>
<div class="paragraph">
<p>In almost all cases, when referencing VMs you must use host names, and the host
names that you use must match the output of the <code>hostname -f</code> command on each
node.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In your <strong><em>/etc/resolv.conf</em></strong> file on each node host, ensure that the DNS server
that has the wildcard entry is not listed as a nameserver or that the wildcard
domain is not listed in the search list. Otherwise, containers managed by
OpenShift Origin may fail to resolve host names properly.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="prereq-network-access"><a class="anchor" href="#prereq-network-access"></a>Network Access</h3>
<div class="paragraph">
<p>A shared network must exist between the master and node hosts. If you plan to
configure
<a href="../../architecture/infrastructure_components/kubernetes_infrastructure.html#high-availability-masters">multiple
masters for high-availability</a> using the <a href="advanced_install.html#install-config-install-advanced-install">advanced
installation method</a>, you must also select an IP to be configured as your
<a href="../../architecture/infrastructure_components/kubernetes_infrastructure.html#master-components">virtual
IP</a> (VIP) during the installation process. The IP that you select must be
routable between all of your nodes, and if you configure using a FQDN it should
resolve on all nodes.</p>
</div>
<div class="sect3">
<h4 id="prereq-networkmanager"><a class="anchor" href="#prereq-networkmanager"></a>NetworkManager</h4>
<div class="paragraph">
<p>NetworkManager, a program for providing detection and configuration for systems
to automatically connect to the network, is required.</p>
</div>
</div>
<div class="sect3">
<h4 id="required-ports"><a class="anchor" href="#required-ports"></a>Required Ports</h4>
<div class="paragraph">
<p>The OpenShift Origin installation automatically creates a set of internal
firewall rules on each host using <code>iptables</code>. However, if your network
configuration uses an external firewall, such as a hardware-based firewall, you
must ensure infrastructure components can communicate with each other through
specific ports that act as communication endpoints for certain processes or
services.</p>
</div>
<div class="paragraph">
<p>Ensure the following ports required by OpenShift Origin are open on your network
and configured to allow access between hosts. Some ports are optional depending
on your configuration and usage.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. Node to Node</caption>
<colgroup>
<col style="width: 18.1818%;">
<col style="width: 9.0909%;">
<col style="width: 72.7273%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>4789</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required for SDN communication between pods on separate hosts.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 2. Nodes to Master</caption>
<colgroup>
<col style="width: 18.1818%;">
<col style="width: 9.0909%;">
<col style="width: 72.7273%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>53</strong> or <strong>8053</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP/UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required for DNS resolution of cluster services (SkyDNS).
Installations prior to 1.2 or environments upgraded to 1.2 use port 53.
New installations will use 8053 by default so that <strong>dnsmasq</strong> may be configured.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>4789</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required for SDN communication between pods on separate hosts.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>443</strong> or <strong>8443</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required for node hosts to communicate to the master API, for the node hosts to
post back status, to receive tasks, and so on.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 3. Master to Node</caption>
<colgroup>
<col style="width: 18.1818%;">
<col style="width: 9.0909%;">
<col style="width: 72.7273%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>4789</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required for SDN communication between pods on separate hosts.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>10250</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The master proxies to node hosts via the Kubelet for <code>oc</code> commands.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In the following table,
<strong>(L)</strong> indicates the marked port is also used in <em>loopback mode</em>,
enabling the master to communicate with itself.</p>
</div>
<div class="paragraph">
<p>In a single-master cluster:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ports marked with <strong>(L)</strong> must be open.</p>
</li>
<li>
<p>Ports not marked with <strong>(L)</strong> need not be open.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In a multiple-master cluster, all the listed ports must be open.</p>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 4. Master to Master</caption>
<colgroup>
<col style="width: 18.1818%;">
<col style="width: 9.0909%;">
<col style="width: 72.7273%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>53 (L)</strong> or <strong>8053</strong> (L)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP/UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required for DNS resolution of cluster services (SkyDNS).
Installations prior to 1.2 or environments upgraded to 1.2 use port 53.
New installations will use 8053 by default so that <strong>dnsmasq</strong> may be configured.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>2049</strong> (L)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP/UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required when provisioning an NFS host as part of the installer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>2379</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used for standalone etcd (clustered) to accept changes in state.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>2380</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">etcd requires this port be open between masters for leader election and peering
connections when using standalone etcd (clustered).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>4001 (L)</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used for embedded etcd (non-clustered) to accept changes in state.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>4789 (L)</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required for SDN communication between pods on separate hosts.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 5. External to Load Balancer</caption>
<colgroup>
<col style="width: 18.1818%;">
<col style="width: 9.0909%;">
<col style="width: 72.7273%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>9000</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If you choose the <code><strong>native</strong></code> HA method, optional to allow access to the HAProxy statistics page.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 6. External to Master</caption>
<colgroup>
<col style="width: 18.1818%;">
<col style="width: 9.0909%;">
<col style="width: 72.7273%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>443</strong> or <strong>8443</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required for node hosts to communicate to the master API, for node hosts to
post back status, to receive tasks, and so on.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 7. IaaS Deployments</caption>
<colgroup>
<col style="width: 18.1818%;">
<col style="width: 9.0909%;">
<col style="width: 72.7273%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>22</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required for SSH by the installer or system administrator.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>53</strong> or <strong>8053</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP/UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required for DNS resolution of cluster services (SkyDNS).
Installations prior to 1.2 or environments upgraded to 1.2 use port 53.
New installations will use 8053 by default so that <strong>dnsmasq</strong> may be configured.
Only required to be internally open on master hosts.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>80</strong> or <strong>443</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For HTTP/HTTPS use for the router. Required to be externally open on node hosts, especially on nodes running the router.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>1936</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For router statistics use. Required to be open when running the template
router to access statistics, and can be open externally or internally to
connections depending on if you want the statistics to be expressed publicly.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>4001</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For embedded etcd (non-clustered) use. Only required to be internally open on
the master host. <strong>4001</strong> is for server-client connections.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>2379</strong> and <strong>2380</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For standalone etcd use. Only required to be internally open on the master host.
<strong>2379</strong> is for server-client connections. <strong>2380</strong> is for server-server
connections, and is only required if you have clustered etcd.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>4789</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UDP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For VxLAN use (OpenShift Origin SDN). Required only internally on node hosts.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>8443</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For use by the OpenShift Origin web console, shared with the API server.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>10250</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For use by the Kubelet. Required to be externally open on nodes.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Notes</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>In the above examples, port <strong>4789</strong> is used for User Datagram Protocol (UDP).</p>
</li>
<li>
<p>When deployments are using the SDN, the pod network is accessed via a service proxy, unless it is accessing the registry from the same node the registry is deployed on.</p>
</li>
<li>
<p>OpenShift Origin internal DNS cannot be received over SDN. Depending on the detected values of <code><strong>openshift_facts</strong></code>, or if the <code><strong>openshift_ip</strong></code> and <code><strong>openshift_public_ip</strong></code> values are overridden, it will be the computed value of <code><strong>openshift_ip</strong></code>. For non-cloud deployments, this will default to the IP address associated with the default route on the master host. For cloud deployments, it will default to the IP address associated with the first internal interface as defined by the cloud metadata.</p>
</li>
<li>
<p>The master host uses port <strong>10250</strong> to reach the nodes and does not go over SDN. It depends on the target host of the deployment and uses the computed values of <code><strong>openshift_hostname</strong></code> and <code><strong>openshift_public_hostname</strong></code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="prereq-git"><a class="anchor" href="#prereq-git"></a>Git Access</h3>
<div class="paragraph">
<p>You must have either Internet access and a GitHub account, or read and write
access to an internal, HTTP-based Git server.</p>
</div>
</div>
<div class="sect2">
<h3 id="prereq-persistent-storage"><a class="anchor" href="#prereq-persistent-storage"></a>Persistent Storage</h3>
<div class="paragraph">
<p>The Kubernetes
<a href="../../architecture/additional_concepts/storage.html#architecture-additional-concepts-storage">persistent volume</a>
framework allows you to provision an OpenShift Origin cluster with persistent storage
using networked storage available in your environment. This can be done after
completing the initial OpenShift Origin installation depending on your application
needs, giving users a way to request those resources without having any
knowledge of the underlying infrastructure.</p>
</div>
<div class="paragraph">
<p>The <a href="../../install_config/index.html#install-config-index">Installation and Configuration Guide</a>
provides instructions for cluster administrators on provisioning an OpenShift Origin
cluster with persistent storage using
<a href="../../install_config/persistent_storage/persistent_storage_nfs.html#install-config-persistent-storage-persistent-storage-nfs">NFS</a>,
<a href="../../install_config/persistent_storage/persistent_storage_glusterfs.html#install-config-persistent-storage-persistent-storage-glusterfs">GlusterFS</a>,
<a href="../../install_config/persistent_storage/persistent_storage_ceph_rbd.html#install-config-persistent-storage-persistent-storage-ceph-rbd">Ceph
RBD</a>,
<a href="../../install_config/persistent_storage/persistent_storage_cinder.html#install-config-persistent-storage-persistent-storage-cinder">OpenStack
Cinder</a>,
<a href="../../install_config/persistent_storage/persistent_storage_aws.html#install-config-persistent-storage-persistent-storage-aws">AWS Elastic Block Store (EBS)</a>,
<a href="../../install_config/persistent_storage/persistent_storage_gce.html#install-config-persistent-storage-persistent-storage-gce">GCE
Persistent Disks</a>, and
<a href="../../install_config/persistent_storage/persistent_storage_iscsi.html#install-config-persistent-storage-persistent-storage-iscsi">iSCSI</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="prereq-cloud-provider-considerations"><a class="anchor" href="#prereq-cloud-provider-considerations"></a>Cloud Provider Considerations</h3>
<div class="paragraph">
<p>There are certain aspects to take into consideration if installing OpenShift Origin
on a cloud provider.</p>
</div>
<div class="sect3">
<h4 id="configuring-a-security-group"><a class="anchor" href="#configuring-a-security-group"></a>Configuring a Security Group</h4>
<div class="paragraph">
<p>When installing on AWS or OpenStack, ensure that you set up the appropriate
security groups. These are some ports that you should have in your security
groups, without which the installation will fail. You may need more depending on
the cluster configuration you want to install. For more information and to
adjust your security groups accordingly, see <a href="#required-ports">Required Ports</a>
for more information.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>All OpenShift Origin Hosts</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>tcp/22 from host running the installer/Ansible</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>etcd Security Group</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>tcp/2379 from masters</p>
</li>
<li>
<p>tcp/2380 from etcd hosts</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Master Security Group</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>tcp/8443 from 0.0.0.0/0</p>
</li>
<li>
<p>tcp/53 from all OpenShift Origin hosts for environments installed prior to or upgraded to 1.2</p>
</li>
<li>
<p>udp/53 from all OpenShift Origin hosts for environments installed prior to or upgraded to 1.2</p>
</li>
<li>
<p>tcp/8053 from all OpenShift Origin hosts for new environments installed with 1.2</p>
</li>
<li>
<p>udp/8053 from all OpenShift Origin hosts for new environments installed with 1.2</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Node Security Group</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>tcp/10250 from masters</p>
</li>
<li>
<p>tcp/4789 from nodes</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Infrastructure Nodes</strong>
(ones that can host the OpenShift Origin router)</p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>tcp/443 from 0.0.0.0/0</p>
</li>
<li>
<p>tcp/80 from 0.0.0.0/0</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If configuring ELBs for load balancing the masters and/or routers, you also need
to configure Ingress and Egress security groups for the ELBs appropriately.</p>
</div>
</div>
<div class="sect3">
<h4 id="overriding-detected-ip-addresses-and-host-names"><a class="anchor" href="#overriding-detected-ip-addresses-and-host-names"></a>Overriding Detected IP Addresses and Host Names</h4>
<div class="paragraph">
<p>Some deployments require that the user override the detected host names and IP
addresses for the hosts. To see the default values, run the <code><strong>openshift_facts</strong></code>
playbook:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="nowrap"># ansible-playbook playbooks/byo/openshift_facts.yml</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Now, verify the detected common settings. If they are not what you expect them
to be, you can override them.</p>
</div>
<div class="paragraph">
<p>The
<a href="../../install_config/install/advanced_install.html#configuring-ansible">Advanced
Installation</a> topic discusses the available Ansible variables in greater detail.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Variable</th>
<th class="tableblock halign-left valign-top">Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>hostname</strong></code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>Should resolve to the internal IP from the instances themselves.</p>
</li>
<li>
<p><code><strong>openshift_hostname</strong></code> overrides.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>ip</strong></code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>Should be the internal IP of the instance.</p>
</li>
<li>
<p><code><strong>openshift_ip</strong></code> will overrides.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>public_hostname</strong></code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>Should resolve to the external IP from hosts outside of the cloud.</p>
</li>
<li>
<p>Provider <code><strong>openshift_public_hostname</strong></code> overrides.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>public_ip</strong></code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>Should be the externally accessible IP associated with the instance.</p>
</li>
<li>
<p><code><strong>openshift_public_ip</strong></code> overrides.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>use_openshift_sdn</strong></code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>Should be true unless the cloud is GCE.</p>
</li>
<li>
<p><code><strong>openshift_use_openshift_sdn</strong></code> overrides.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If <code><strong>openshift_hostname</strong></code> is set to a value other than the metadata-provided
<code><strong>private-dns-name</strong></code> value, the native cloud integration for those providers
will no longer work.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In AWS, situations that require overriding the variables include:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Variable</th>
<th class="tableblock halign-left valign-top">Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>hostname</strong></code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The user is installing in a VPC that is not configured for both <code><strong>DNS hostnames</strong></code> and <code><strong>DNS resolution</strong></code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>ip</strong></code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Possibly if they have multiple network interfaces configured and they want to
use one other than the default. You must first set
<code><strong>openshift_node_set_node_ip</strong></code> to <code>True</code>. Otherwise, the SDN would attempt to
use the <code><strong>hostname</strong></code> setting or try to resolve the host name for the IP.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>public_hostname</strong></code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>A master instance where the VPC subnet is not configured for <code><strong>Auto-assign
Public IP</strong></code>. For external access to this master, you need to have an ELB or
other load balancer configured that would provide the external access needed, or
you need to connect over a VPN connection to the internal name of the host.</p>
</li>
<li>
<p>A master instance where metadata is disabled.</p>
</li>
<li>
<p>This value is not actually used by the nodes.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>public_ip</strong></code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>A master instance where the VPC subnet is not configured for <code><strong>Auto-assign Public IP</strong></code>.</p>
</li>
<li>
<p>A master instance where metadata is disabled.</p>
</li>
<li>
<p>This value is not actually used by the nodes.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If setting <code><strong>openshift_hostname</strong></code> to something other than the metadata-provided
<code><strong>private-dns-name</strong></code> value, the native cloud integration for those providers
will no longer work.</p>
</div>
<div class="paragraph">
<p>For EC2 hosts in particular, they must be deployed in a VPC that has both
<code><strong>DNS host names</strong></code> and <code><strong>DNS resolution</strong></code> enabled, and <code><strong>openshift_hostname</strong></code>
should not be overridden.</p>
</div>
</div>
<div class="sect3">
<h4 id="post-installation-configuration-for-cloud-providers"><a class="anchor" href="#post-installation-configuration-for-cloud-providers"></a>Post-Installation Configuration for Cloud Providers</h4>
<div class="paragraph">
<p>Following the installation process, you can configure OpenShift Origin for
<a href="../../install_config/configuring_aws.html#install-config-configuring-aws">AWS</a>,
<a href="../../install_config/configuring_openstack.html#install-config-configuring-openstack">OpenStack</a>, or
<a href="../../install_config/configuring_gce.html#install-config-configuring-gce">GCE</a>.</p>
</div>
</div>
</div>
</div>
</div>
      </div>
    </div>
  </div>
  <script type="text/javascript">
    /*<![CDATA[*/
    $(document).ready(function() {
      $("[id^='topicGroup']").on('show.bs.collapse', function (event) {
        if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
          $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
        }
      });
      $("[id^='topicGroup']").on('hide.bs.collapse', function (event) {
        if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
          $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
        }
      });
      $("[id^='topicSubGroup']").on('show.bs.collapse', function () {
        $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
      });
      $("[id^='topicSubGroup']").on('hide.bs.collapse', function () {
        $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
      });
    });
    /*]]>*/
  </script>
    <footer class="footer-origin-docs">
  <div class="container">
    <div class="row">
      <div class="col-sm-12">
        <div id="footer_social">
          <a href="https://twitter.com/openshift" class="first">
            <span>
              <i class="fa fa-twitter-square fa-2x fa-inverse"></i>
            </span>
          </a>
          <a href="https://github.com/openshift/origin">
            <span>
              <i class="fa fa-github fa-2x fa-inverse"></i>
            </span>
          </a>
          <a href="https://plus.google.com/communities/114361859072744017486">
            <span>
              <i class="fa fa-google-plus-square fa-2x fa-inverse"></i>
            </span>
          </a>
          <a href="https://www.facebook.com/openshift">
            <span>
              <i class="fa fa-facebook-square fa-2x fa-inverse"></i>
            </span>
          </a>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12 col-sm-4">
        <a id="footer_logo" href="https://www.redhat.com/">
          <img alt="Red Hat" src="https://assets.openshift.net/app/assets/redhat.svg">
        </a>
      </div>
      <div class="col-xs-12 col-sm-4 text-center">
        <a id="powered_by_openshift" title="Powered by OpenShift Online with the DIY Cartridge" href="https://hub.openshift.com/quickstarts/92-do-it-yourself-0-1">
          <img src="https://www.openshift.com/sites/default/files/images/powered-transparent-white.png" alt="Powered by OpenShift Online">
        </a>
      </div>
      <div class="col-xs-12 col-sm-4 text-right">
        <a id="built_with_asciibinder" title="Built with AsciiBinder docs management system" href="http://asciibinder.org/">
          <img src="../../../latest/_images/asciibinder_web_logo.svg" alt="AsciiBinder">
        </a>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12">
        <div class="attribution">
          <button type="button" class="btn btn-link" data-html="true" data-container="body" data-toggle="popover" data-placement="top" data-content="
            '<a target='_blank' href='https://www.flickr.com/photos/eflon/3655695161/'>Spin</a>' by <a target='_blank' href='https://www.flickr.com/photos/eflon/'>eflon</a>,</br> used under <a target='_blank' href='https://creativecommons.org/licenses/by/2.0/'>CC BY 2.0</a> </br>Color tint added to original">
            Image attribution
          </button>
        </div>
      </div>
    </div>
    <script>
    $(function () {
      $('[data-toggle="popover"]').popover()
    })
    </script>
  </div>
</footer>
</body>
</html>