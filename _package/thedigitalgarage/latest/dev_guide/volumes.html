<!DOCTYPE html>
<!--[if IE 8]> <html class="ie8"> <![endif]-->
<!--[if IE 9]> <html class="ie9"> <![endif]-->
<!--[if gt IE 9]><!-->
<html>
<!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Digital Garage | Developer Guide | Managing Volumes</title>
  <link href="http://assets-digitalgarage-infra.apps.thedigitalgarage.io/stylesheets/subdomain.css" rel="stylesheet" type="text/css">
  <link href="http://assets-digitalgarage-infra.apps.thedigitalgarage.io/stylesheets/docs.css" rel="stylesheet" type="text/css"/>
  <link href="http://assets-digitalgarage-infra.apps.thedigitalgarage.io/stylesheets/font-awesome.min.css" rel="stylesheet" type="text/css"/>
  <!--
  <link href="https://raw.githubusercontent.com/thedigitalgarage/origin-web-console/master/extensions/thedigitalgarage/css/main.css" rel="stylesheet" type="text/css">
  -->
  <link href="http://assets-digitalgarage-infra.apps.thedigitalgarage.io/images/favicon.png" rel="apple-touch-icon-precomposed" type="image/png">
  <link href="http://assets-digitalgarage-infra.apps.thedigitalgarage.io/images/favicon.png" rel="shortcut icon" type="text/css">
  <!--[if IE]><link rel="shortcut icon" href="https://assets.openshift.net/content/subdomain/favicon.ico"><![endif]-->
  <!-- or, set /favicon.ico for IE10 win -->
  <meta content="Digital Garage Documentation" name="application-name">
  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://assets.openshift.net/content/html5shiv.js" type="text/javascript"></script>
    <script src="https://assets.openshift.net/content/respond.js" type="text/javascript"></script>
    <link href="https://assets.openshift.net/content/vendor/respond-js/respond-proxy.html" id="respond-proxy" rel="respond-proxy">
    <link href="/_images/respond.proxy.gif" id="respond-redirect" rel="respond-redirect">
    <script src="/_javascripts/respond.proxy.js" type="text/javascript"></script>
  <![endif]-->
  <script src="https://assets.openshift.net/content/modernizr.js" type="text/javascript"></script>
  <script src="https://assets.openshift.net/content/subdomain.js" type="text/javascript"></script>
  <script src="/_javascripts/bootstrap-offcanvas.js" type="text/javascript"></script>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-84210257-1', 'auto');
  ga('send', 'pageview');

</script>
</head>
<body>
  <div class="navbar navbar-default navbar-digital-garage" role="navigation">
  <div class="navbar-header">
    <a class="navbar-brand digital-garage" href="/"></a>
  </div>
</div>
  <div class="container">
    <p class="toggle-nav visible-xs pull-left">
      <button class="btn btn-default btn-sm" type="button" data-toggle="offcanvas">Toggle nav</button>
    </p>
    <ol class="breadcrumb">
      <li class="sitename">
        <a href="../../welcome/index.html">Documentation</a>
      </li>
      <li class="hidden-xs active">
        <a href="../welcome/index.html">Digital Garage Discovery</a>
      </li>
      <li class="hidden-xs active">
        <a href="../dev_guide/index.html">Developer Guide</a>
      </li>
      
      <li class="hidden-xs active">
        Managing Volumes
      </li>
    </ol>
    <div class="row row-offcanvas row-offcanvas-left">
      <div class="col-xs-8 col-sm-3 col-md-3 sidebar sidebar-offcanvas">
        <div class="row-fluid">
          
<script>
  (function() {
    var cx = '013769182564158614814:e-dp46b51vk';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>

        </div>
        <ul class="nav nav-sidebar">
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup0">
        <span id="tgSpan0" class="fa fa-angle-right"></span>About
      </a>
      <ul id="topicGroup0" class="collapse  list-unstyled">
            <li><a class="" href="../welcome/index.html">Welcome</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup1">
        <span id="tgSpan1" class="fa fa-angle-right"></span>Getting Started
      </a>
      <ul id="topicGroup1" class="collapse  list-unstyled">
            <li><a class="" href="../getting_started/index.html">Overview</a></li>
            <li><a class="" href="../getting_started/basic_walkthrough.html">Basic Walkthrough</a></li>
            <li><a class="" href="../getting_started/beyond_the_basics.html">Beyond the Basics</a></li>
            <li><a class="" href="../getting_started/developers_console.html">Web Console Walkthrough</a></li>
            <li><a class="" href="../getting_started/developers_cli.html">Command-Line Walkthrough</a></li>
            <li><a class="" href="../getting_started/devpreview_faq.html">Developer Preview FAQ</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup2">
        <span id="tgSpan2" class="fa fa-angle-right"></span>Architecture
      </a>
      <ul id="topicGroup2" class="collapse  list-unstyled">
            <li><a class="" href="../architecture/index.html">Overview</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-2-1">
                <span id="sgSpan-2-1" class="fa fa-caret-right"></span>&nbsp;Core Concepts
              </a>
              <ul id="topicSubGroup-2-1" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../architecture/core_concepts/index.html">Overview</a></li>

                  <li><a class="" href="../architecture/core_concepts/containers_and_images.html">Containers and Images</a></li>

                  <li><a class="" href="../architecture/core_concepts/containers_and_images.html">Images</a></li>

                  <li><a class="" href="../architecture/core_concepts/pods_and_services.html">Pods and Services</a></li>

                  <li><a class="" href="../architecture/core_concepts/projects_and_users.html">Projects and Users</a></li>

                  <li><a class="" href="../architecture/core_concepts/builds_and_image_streams.html">Builds and Image Streams</a></li>

                  <li><a class="" href="../architecture/core_concepts/deployments.html">Deployments</a></li>

                  <li><a class="" href="../architecture/core_concepts/routes.html">Routes</a></li>

                  <li><a class="" href="../architecture/core_concepts/templates.html">Templates</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-2-2">
                <span id="sgSpan-2-2" class="fa fa-caret-right"></span>&nbsp;Additional Concepts
              </a>
              <ul id="topicSubGroup-2-2" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../architecture/additional_concepts/overview.html">Overview</a></li>

                  <li><a class="" href="../architecture/additional_concepts/networking.html">Networking</a></li>

                  <li><a class="" href="../architecture/additional_concepts/remote_commands.html">Remote Commands</a></li>

                  <li><a class="" href="../architecture/additional_concepts/port_forwarding.html">Port Forwarding</a></li>

                  <li><a class="" href="../architecture/additional_concepts/scm.html">Source Control Management</a></li>
              </ul>
            </li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup3">
        <span id="tgSpan3" class="fa fa-angle-right"></span>CLI Reference
      </a>
      <ul id="topicGroup3" class="collapse  list-unstyled">
            <li><a class="" href="../cli_reference/index.html">Overview</a></li>
            <li><a class="" href="../cli_reference/cli_by_example_content.html">CLI by example</a></li>
            <li><a class="" href="../cli_reference/get_started_cli.html">Get Started with the CLI</a></li>
            <li><a class="" href="../cli_reference/manage_cli_profiles.html">Managing CLI Profiles</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup4">
        <span id="tgSpan4" class="fa fa-angle-down"></span>Developer Guide
      </a>
      <ul id="topicGroup4" class="collapse in list-unstyled">
            <li><a class="" href="../dev_guide/index.html">Overview</a></li>
            <li><a class="" href="../dev_guide/application_lifecycle.html">Application Life Cycle Examples</a></li>
            <li><a class="" href="../dev_guide/authentication.html">Authentication</a></li>
            <li><a class="" href="../dev_guide/projects.html">Projects</a></li>
            <li><a class="" href="../dev_guide/new_app.html">Creating New Applications</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-4-5">
                <span id="sgSpan-4-5" class="fa fa-caret-right"></span>&nbsp;Migrating Applications
              </a>
              <ul id="topicSubGroup-4-5" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../dev_guide/migrating_applications/index.html">Overview</a></li>

                  <li><a class="" href="../dev_guide/migrating_applications/database_applications.html">Database Applications</a></li>

                  <li><a class="" href="../dev_guide/migrating_applications/web_framework_applications.html">Web Framework Applications</a></li>

                  <li><a class="" href="../dev_guide/migrating_applications/quickstart_examples.html">QuickStart Examples</a></li>

                  <li><a class="" href="../dev_guide/migrating_applications/continuous_integration_and_deployment.html">Continuous Integration and Deployment</a></li>

                  <li><a class="" href="../dev_guide/migrating_applications/web_hooks_action_hooks.html">Webhooks and Action Hooks</a></li>

                  <li><a class="" href="../dev_guide/migrating_applications/S2I_tool.html">S2I Tool</a></li>

                  <li><a class="" href="../dev_guide/migrating_applications/support_guide.html">Support Guide</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-4-6">
                <span id="sgSpan-4-6" class="fa fa-caret-right"></span>&nbsp;Application Tutorials
              </a>
              <ul id="topicSubGroup-4-6" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../dev_guide/app_tutorials/index.html">Overview</a></li>

                  <li><a class="" href="../dev_guide/app_tutorials/quickstarts.html">Quickstart Templates</a></li>

                  <li><a class="" href="../dev_guide/app_tutorials/ruby_on_rails.html">Ruby on Rails</a></li>

                  <li><a class="" href="../dev_guide/app_tutorials/maven_tutorial.html">Setting Up a Nexus Mirror</a></li>
              </ul>
            </li>
            <li><a class="" href="../dev_guide/ssh_environment.html">Opening a Remote Shell to Containers</a></li>
            <li><a class="" href="../dev_guide/templates.html">Templates</a></li>
            <li><a class="" href="../dev_guide/service_accounts.html">Service Accounts</a></li>
            <li><a class="" href="../dev_guide/builds.html">Builds</a></li>
            <li><a class="" href="../dev_guide/managing_images.html">Managing Images</a></li>
            <li><a class="" href="../dev_guide/compute_resources.html">Quotas and Limit Ranges</a></li>
            <li><a class="" href="../dev_guide/deployments.html">Deployments</a></li>
            <li><a class="" href="../dev_guide/getting_traffic_into_cluster.html">Getting Traffic Into The Cluster</a></li>
            <li><a class="" href="../dev_guide/routes.html">Routes</a></li>
            <li><a class="" href="../dev_guide/integrating_external_services.html">Integrating External Services</a></li>
            <li><a class="" href="../dev_guide/secrets.html">Secrets</a></li>
            <li><a class="" href="../dev_guide/configmaps.html">ConfigMaps</a></li>
            <li><a class="" href="../dev_guide/daemonsets.html">Using Daemonsets</a></li>
            <li><a class="" href="../dev_guide/pod_autoscaling.html">Pod Autoscaling</a></li>
            <li><a class="" href="../dev_guide/pod_disruption_budget.html">Pod Disruption Budget</a></li>
            <li><a class=" active" href="../dev_guide/volumes.html">Managing Volumes</a></li>
            <li><a class="" href="../dev_guide/persistent_volumes.html">Using Persistent Volumes</a></li>
            <li><a class="" href="../dev_guide/executing_remote_commands.html">Executing Remote Commands</a></li>
            <li><a class="" href="../dev_guide/copy_files_to_container.html">Copying Files</a></li>
            <li><a class="" href="../dev_guide/port_forwarding.html">Port Forwarding</a></li>
            <li><a class="" href="../dev_guide/shared_memory.html">Shared Memory</a></li>
            <li><a class="" href="../dev_guide/application_health.html">Application Health</a></li>
            <li><a class="" href="../dev_guide/events.html">Events</a></li>
            <li><a class="" href="../dev_guide/downward_api.html">Downward API</a></li>
            <li><a class="" href="../dev_guide/environment_variables.html">Managing Environment Variables</a></li>
            <li><a class="" href="../dev_guide/jobs.html">Jobs</a></li>
            <li><a class="" href="../dev_guide/scheduled_jobs.html">Scheduled Jobs</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup5">
        <span id="tgSpan5" class="fa fa-angle-right"></span>Creating Images
      </a>
      <ul id="topicGroup5" class="collapse  list-unstyled">
            <li><a class="" href="../creating_images/index.html">Overview</a></li>
            <li><a class="" href="../creating_images/guidelines.html">Guidelines</a></li>
            <li><a class="" href="../creating_images/metadata.html">Image Metadata</a></li>
            <li><a class="" href="../creating_images/s2i.html">S2I Requirements</a></li>
            <li><a class="" href="../creating_images/s2i_testing.html">Testing S2I Images</a></li>
            <li><a class="" href="../creating_images/custom.html">Custom Builder</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup6">
        <span id="tgSpan6" class="fa fa-angle-right"></span>Using Images
      </a>
      <ul id="topicGroup6" class="collapse  list-unstyled">
            <li><a class="" href="../using_images/index.html">Overview</a></li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-6-1">
                <span id="sgSpan-6-1" class="fa fa-caret-right"></span>&nbsp;Source-to-Image (S2I)
              </a>
              <ul id="topicSubGroup-6-1" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../using_images/s2i_images/index.html">Overview</a></li>

                  <li><a class="" href="../using_images/s2i_images/customizing_s2i_images.html">Customizing S2I images</a></li>

                  <li><a class="" href="../using_images/s2i_images/nodejs.html">Node.js</a></li>

                  <li><a class="" href="../using_images/s2i_images/perl.html">Perl</a></li>

                  <li><a class="" href="../using_images/s2i_images/php.html">PHP</a></li>

                  <li><a class="" href="../using_images/s2i_images/python.html">Python</a></li>

                  <li><a class="" href="../using_images/s2i_images/java.html">Java</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-6-2">
                <span id="sgSpan-6-2" class="fa fa-caret-right"></span>&nbsp;Database Images
              </a>
              <ul id="topicSubGroup-6-2" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../using_images/db_images/index.html">Overview</a></li>

                  <li><a class="" href="../using_images/db_images/mysql.html">MySQL</a></li>

                  <li><a class="" href="../using_images/db_images/postgresql.html">PostgreSQL</a></li>

                  <li><a class="" href="../using_images/db_images/mongodb.html">MongoDB</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-6-3">
                <span id="sgSpan-6-3" class="fa fa-caret-right"></span>&nbsp;Docker Images
              </a>
              <ul id="topicSubGroup-6-3" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../using_images/docker_images/index.html">Overview</a></li>
              </ul>
            </li>
            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-6-4">
                <span id="sgSpan-6-4" class="fa fa-caret-right"></span>&nbsp;Other Images
              </a>
              <ul id="topicSubGroup-6-4" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../using_images/other_images/index.html">Overview</a></li>

                  <li><a class="" href="../using_images/other_images/jenkins.html">Jenkins</a></li>

                  <li><a class="" href="../using_images/other_images/wordpress.html">Wordpress</a></li>
              </ul>
            </li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup7">
        <span id="tgSpan7" class="fa fa-angle-right"></span>REST API Reference
      </a>
      <ul id="topicGroup7" class="collapse  list-unstyled">
            <li><a class="" href="../rest_api/index.html">Overview</a></li>
            <li><a class="" href="../rest_api/openshift_v1.html">OpenShift v1</a></li>
            <li><a class="" href="../rest_api/kubernetes_v1.html">Kubernetes v1</a></li>
      </ul>
    </li>
</ul>
      </div>
      <div class="col-xs-12 col-sm-9 col-md-9 main">
        <div class="page-header">
          <h2>Managing Volumes</h2>
        </div>
        <div id="preamble">
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title"></div>
<ul class="sectlevel1">
<li><a href="#overview">Overview</a></li>
<li><a href="#general-cli-usage">General CLI Usage</a></li>
<li><a href="#adding-volumes">Adding Volumes</a></li>
<li><a href="#updating-volumes">Updating Volumes</a></li>
<li><a href="#removing-volumes">Removing Volumes</a></li>
<li><a href="#listing-volumes">Listing Volumes</a></li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="anchor" href="#overview"></a>Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Containers are not persistent by default; on restart, their contents are
cleared. Volumes are mounted file systems available to
<a href="../architecture/core_concepts/pods_and_services.html#pods">pods</a> and their
containers which may be backed by a number of host-local or network attached
storage endpoints.</p>
</div>
<div class="paragraph">
<p>To ensure that the file system on the volume contains no errors and, if errors
are present, to repair them when possible, Digital Garage invokes the <code>fsck</code>
utility prior to the <code>mount</code> utility. This occurs when either adding a volume or
updating an existing volume.</p>
</div>
<div class="paragraph">
<p>The simplest volume type is <code><strong>EmptyDir</strong></code>, which is a temporary directory on a
single machine. Administrators may also allow you to request a
<a href="persistent_volumes.html#dev-guide-persistent-volumes">persistent volume</a> that is automatically attached
to your pods.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code><strong>EmptyDir</strong></code> volume storage may be restricted by a quota based on the pods FSGroup, if enabled by your cluster administrator.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can use the CLI command <code>oc volume</code> to <a href="#adding-volumes">add</a>,
<a href="#updating-volumes">update</a>, or <a href="#removing-volumes">remove</a> volumes and
volume mounts for any object that has a pod template like
<a href="../architecture/core_concepts/deployments.html#replication-controllers">replication
controllers</a> or
<a href="../architecture/core_concepts/deployments.html#deployments-and-deployment-configurations">deployment
configurations</a>. You can also <a href="#listing-volumes">list</a> volumes in pods or any
object that has a pod template.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="general-cli-usage"><a class="anchor" href="#general-cli-usage"></a>General CLI Usage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>oc volume</code> command uses the following general syntax:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc volume &lt;object_selection&gt; &lt;operation&gt; &lt;mandatory_parameters&gt; &lt;optional_parameters&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>This topic uses the form <code><em>&lt;object_type&gt;</em>/<em>&lt;name&gt;</em></code> for <code><em>&lt;object_selection&gt;</em></code>
in later examples, however you can choose one of the following options:</p>
</div>
<table id="vol-object-selection" class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. Object Selection</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Syntax</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>&lt;object_type&gt;</em> <em>&lt;name&gt;</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Selects <code><em>&lt;name&gt;</em></code> of type <code><em>&lt;object_type&gt;</em></code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>deploymentConfig registry</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>&lt;object_type&gt;</em>/<em>&lt;name&gt;</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Selects <code><em>&lt;name&gt;</em></code> of type <code><em>&lt;object_type&gt;</em></code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>deploymentConfig/registry</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>&lt;object_type&gt;</em></code>
<code>--selector=<em>&lt;object_label_selector&gt;</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Selects resources of type <code><em>&lt;object_type&gt;</em></code> that matched the given label
selector.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>deploymentConfig</code>
<code>--selector="name=registry"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>&lt;object_type&gt;</em> --all</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Selects all resources of type <code><em>&lt;object_type&gt;</em></code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>deploymentConfig --all</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-f</code> or
<code>--filename=<em>&lt;file_name&gt;</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">File name, directory, or URL to file to use to edit the resource.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-f registry-deployment-config.json</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <code><em>&lt;operation&gt;</em></code> can be one of <code>--add</code>, <code>--remove</code>, or <code>--list</code>.</p>
</div>
<div class="paragraph">
<p>Any <code><em>&lt;mandatory_parameters&gt;</em></code> or <code><em>&lt;optional_parameters&gt;</em></code> are specific to the
selected operation and are discussed in later sections.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="adding-volumes"><a class="anchor" href="#adding-volumes"></a>Adding Volumes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To add a volume, a volume mount, or both to pod templates:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc volume &lt;object_type&gt;/&lt;name&gt; --add [options]</pre>
</div>
</div>
<table id="add-options" class="tableblock frame-all grid-all spread">
<caption class="title">Table 2. Supported Options for Adding Volumes</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the volume.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Automatically generated, if not specified.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-t, --type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the volume source. Supported values: <code>emptyDir</code>, <code>hostPath</code>, <code>secret</code>,
<code>configmap</code>, or <code>persistentVolumeClaim</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>emptyDir</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-c, --containers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select containers by name. It can also take wildcard <code>'*'</code> that matches any
character.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>'*'</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-m, --mount-path</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mount path inside the selected containers.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--path</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Host path. Mandatory parameter for <code>--type=hostPath</code>.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--secret-name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the secret. Mandatory parameter for <code>--type=secret</code>.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--claim-name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the persistent volume claim. Mandatory parameter for
<code>--type=persistentVolumeClaim</code>.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--source</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Details of volume source as a JSON string. Recommended if the desired volume
source is not supported by <code>--type</code>. See
<a href="../rest_api/kubernetes_v1.html#v1-volume">available volume sources</a></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-o, --output</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Display the modified objects instead of updating them on the server. Supported
values: <code>json</code>, <code>yaml</code>.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--output-version</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Output the modified objects with the given version.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>api-version</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>Add a new volume source <strong>emptyDir</strong> to deployment configuration <strong>registry</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc volume dc/registry --add</pre>
</div>
</div>
<div class="paragraph">
<p>Add volume <strong>v1</strong> with secret <strong>$ecret</strong> for replication controller <strong>r1</strong> and mount
inside the containers at <strong><em>/data</em></strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc volume rc/r1 --add --name=v1 --type=secret --secret-name='$ecret' --mount-path=/data</pre>
</div>
</div>
<div class="paragraph">
<p>Add existing persistent volume <strong>v1</strong> with claim name <strong>pvc1</strong> to deployment
configuration <strong><em>dc.json</em></strong> on disk, mount the volume on container <strong>c1</strong> at
<strong><em>/data</em></strong>, and update the deployment configuration on the server:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc volume -f dc.json --add --name=v1 --type=persistentVolumeClaim \
  --claim-name=pvc1 --mount-path=/data --containers=c1</pre>
</div>
</div>
<div class="paragraph">
<p>Add volume <strong>v1</strong> based on Git repository
<strong>https://github.com/namespace1/project1</strong> with revision <strong>5125c45f9f563</strong> for
all replication controllers:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc volume rc --all --add --name=v1 \
  --source='{"gitRepo": {
                "repository": "https://github.com/namespace1/project1",
                "revision": "5125c45f9f563"
            }}'</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="updating-volumes"><a class="anchor" href="#updating-volumes"></a>Updating Volumes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Updating existing volumes or volume mounts is the same as
<a href="#adding-volumes">adding volumes</a>, but with the <code>--overwrite</code> option:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc volume &lt;object_type&gt;/&lt;name&gt; --add --overwrite [options]</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>Replace existing volume <strong>v1</strong> for replication controller <strong>r1</strong> with existing
persistent volume claim <strong>pvc1</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc volume rc/r1 --add --overwrite --name=v1 --type=persistentVolumeClaim --claim-name=pvc1</pre>
</div>
</div>
<div class="paragraph">
<p>Change deployment configuration <strong>d1</strong> mount point to <strong><em>/opt</em></strong> for volume <strong>v1</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc volume dc/d1 --add --overwrite --name=v1 --mount-path=/opt</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="removing-volumes"><a class="anchor" href="#removing-volumes"></a>Removing Volumes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To remove a volume or volume mount from pod templates:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc volume &lt;object_type&gt;/&lt;name&gt; --remove [options]</pre>
</div>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 3. Supported Options for Removing Volumes</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the volume.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-c, --containers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select containers by name. It can also take wildcard <code>'*'</code> that matches any character.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>'*'</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--confirm</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicate that you want to remove multiple volumes at once.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-o, --output</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Display the modified objects instead of updating them on the server. Supported
values: <code>json</code>, <code>yaml</code>.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--output-version</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Output the modified objects with the given version.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>api-version</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Some examples:</p>
</div>
<div class="paragraph">
<p>Remove a volume <strong>v1</strong> from deployment config <strong>d1</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc volume dc/d1 --remove --name=v1</pre>
</div>
</div>
<div class="paragraph">
<p>Unmount volume <strong>v1</strong> from container <strong>c1</strong> for deployment configuration <strong>d1</strong> and
remove the volume <strong>v1</strong> if it is not referenced by any containers on <strong>d1</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc volume dc/d1 --remove --name=v1 --containers=c1</pre>
</div>
</div>
<div class="paragraph">
<p>Remove all volumes for replication controller <strong>r1</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc volume rc/r1 --remove --confirm</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="listing-volumes"><a class="anchor" href="#listing-volumes"></a>Listing Volumes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To list volumes or volume mounts for pods or pod templates:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc volume &lt;object_type&gt;/&lt;name&gt; --list [options]</pre>
</div>
</div>
<div class="paragraph">
<p>List volume supported options:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the volume.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-c, --containers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select containers by name. It can also take wildcard <code>'*'</code> that matches any
character.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>'*'</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Examples</strong></p>
</div>
<div class="paragraph">
<p>List all volumes for pod <strong>p1</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc volume pod/p1 --list</pre>
</div>
</div>
<div class="paragraph">
<p>List volume <strong>v1</strong> defined on all deployment configurations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc volume dc --all --name=v1</pre>
</div>
</div>
</div>
</div>
      </div>
    </div>
  </div>
  <script type="text/javascript">
    /*<![CDATA[*/
    $(document).ready(function() {
      $("[id^='topicGroup']").on('show.bs.collapse', function (event) {
        if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
          $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
        }
      });
      $("[id^='topicGroup']").on('hide.bs.collapse', function (event) {
        if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
          $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
        }
      });
      $("[id^='topicSubGroup']").on('show.bs.collapse', function () {
        $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
      });
      $("[id^='topicSubGroup']").on('hide.bs.collapse', function () {
        $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
      });
    });
    /*]]>*/
  </script>
  <footer class="footer-digital-garage">
  <div class="container">
    <div class="row">
      <div class="col-xs-12 col-sm-4 col-md-3 logo">
        <a href="http://www.thedigitalgarage.io/"></a>
      </div>
      <div class="col-xs-12 col-sm-4 col-md-6 text-center">
        <div class="row">
          <div class="col-xs-12 col-md-4">
          <a href="http://community.thedigitalgarage.io">
            Our Community
          </a>
          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-4 col-md-3 text-right">
        <a id="built_with_asciibinder" href="http://asciibinder.org/">
          <img src="http://docs.thedigitalgarage.io/_images/asciibinder_web_logo.svg" alt="AsciiBinder" />
        </a>
      </div>
    </div>
  </div>
</footer>

<!-- Adobe DTM -->
<script type="text/javascript">
if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
   _satellite.pageBottom();
}
</script>
<!-- End Adobe DTM -->
</body>
</html>